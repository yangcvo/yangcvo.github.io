<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>Ansible å°ç»“ï¼ˆä¸€ï¼‰ansibleçš„å®‰è£… | Yancy&#39;s blog</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="Yancy&#39;s blog" type="application/atom+xml">
    
</head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/" class="header__link">Home</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/archives" class="header__link">ARCHIVES</a>
			
				<a href="/about/About" class="header__link">ABOUT</a>
			
				<a href="http://weibo.com/yangcvo" class="header__link">Weibo</a>
			
				<a href="/atom.xml" class="header__link">RSS</a>
			
		</nav>
		<h1 class="header__title"><a href="/">Yancy&#39;s blog</a></h1>
		<h2 class="header__subtitle">SIMPLICITY IS PREREQUISITE FOR  RELIABILITY</h2>
	</header>

	<main>
		<article>
	
		<h1>Ansible å°ç»“ï¼ˆä¸€ï¼‰ansibleçš„å®‰è£…</h1>
	
	<div class="article__infos">
		<span class="article__date">2016-03-07</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/automation/">automation</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/Ansible/">Ansible</a>
			</span>
		
	</div>

	

	
		<p>ä¸Šä¸€ç¯‡æ–‡ç« è®°å½•äº†è§£ansible,è¿™ç¯‡å¤§æ¦‚è®°å½•ä¸‹å¸¸è§„ä½¿ç”¨å‘½ä»¤ã€‚</p>
<p>è¿™é‡Œä»¥CentOS Linux release 7.2.1511 (Core)ç³»ç»Ÿä¸ºå‡†ã€‚</p>
<p><figure class="figure"><img src="http://7xrthw.com1.z0.glb.clouddn.com/ansible_03.png" alt=""></figure></p>
<h3 id="ä¸€ã€Ansibleçš„å®‰è£…"><a href="#ä¸€ã€Ansibleçš„å®‰è£…" class="headerlink" title="ä¸€ã€Ansibleçš„å®‰è£…"></a>ä¸€ã€Ansibleçš„å®‰è£…</h3><h4 id="Centoså®‰è£…"><a href="#Centoså®‰è£…" class="headerlink" title="Centoså®‰è£…"></a>Centoså®‰è£…</h4><p>1ã€yumæºå®‰è£…</p>
<p>ä»¥centosä¸ºä¾‹ï¼Œé»˜è®¤åœ¨æºé‡Œæ²¡æœ‰ansibleï¼Œä¸è¿‡åœ¨fedora epelæºé‡Œæœ‰ansibleï¼Œé…ç½®å®Œepel æºåï¼Œå¯ä»¥ç›´æ¥é€šè¿‡yum è¿›è¡Œå®‰è£…ã€‚è¿™é‡Œä»¥centos6.8ä¸ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">centos 6</div><div class="line"><span class="comment"># yum install http://mirrors.sohu.com/fedora-epel/6/x86_64/epel-release-6-8.noarch.rpm</span></div><div class="line"></div><div class="line">centos 7</div><div class="line"><span class="comment"># yum install http://mirrors.sohu.com/fedora-epel/7/x86_64/e/epel-release-7-10.noarch.rpm</span></div><div class="line"><span class="comment"># yum install -y ansible</span></div></pre></td></tr></table></figure>
<h4 id="Ubuntuå®‰è£…"><a href="#Ubuntuå®‰è£…" class="headerlink" title="Ubuntuå®‰è£…"></a>Ubuntuå®‰è£…</h4><p>2ã€apt-getå®‰è£…</p>
<p>åœ¨ubuntuåŠå…¶è¡ç”Ÿç‰ˆä¸­ï¼Œå¯ä»¥é€šè¿‡å¢åŠ ppaæºè¿›è¡Œapt-getå®‰è£…ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install software-properties-common</span></div><div class="line"><span class="meta">$</span><span class="bash"> sudo apt-add-repository ppa:ansible/ansible</span></div><div class="line"><span class="meta">$</span><span class="bash"> sudo apt-get update</span></div><div class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install ansible</span></div></pre></td></tr></table></figure>
<p>3ã€æºç å®‰è£…</p>
<p>æºç å®‰è£…éœ€è¦python2.6ä»¥ä¸Šç‰ˆæœ¬ï¼Œå…¶ä¾èµ–æ¨¡å—paramikoã€PyYAMLã€Jinja2ã€httplib2ã€simplejsonã€pycryptoæ¨¡å—ï¼Œä»¥ä¸Šæ¨¡å—å¯ä»¥é€šè¿‡pipæˆ–easy_install è¿›è¡Œå®‰è£…ï¼Œä¸è¿‡æœ¬éƒ¨åˆ†æ—¢ç„¶æåˆ°çš„æ˜¯æºç å®‰è£…ï¼Œä¸»è¦é’ˆå¯¹çš„æ— æ³•ä¸Šå¤–ç½‘çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡pypi ç«™ç‚¹æœç´¢ä»¥ä¸ŠåŒ…ï¼Œä¸‹è½½åé€šè¿‡python setup.py install è¿›è¡Œå®‰è£…ã€‚</p>
<p>æœ€åé€šè¿‡githubæˆ–pypiä¸Šä¸‹è½½ansibleæºç åŒ…ï¼Œé€šè¿‡python setup.py install å®‰è£…å³å¯ã€‚ç”±äºå®‰è£…è¿‡ç¨‹ç›¸å¯¹ç®€å•ï¼Œè¿™é‡Œç•¥è¿‡ï¼Œä¸»è¦ä»‹ç»å®‰è£…åï¼Œå¯èƒ½é‡åˆ°çš„é—®é¢˜ã€‚</p>
<p>aã€å®‰è£…PyYAMLæ—¶ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"># python setup.py install</div><div class="line">libyaml is <span class="keyword">not</span> found <span class="keyword">or</span> a compiler error: forcing --without-libyaml</div><div class="line">(<span class="keyword">if</span> libyaml is installed correctly, you may need to</div><div class="line"> specify the <span class="keyword">option</span> --include-dirs <span class="keyword">or</span> uncomment <span class="keyword">and</span></div><div class="line"> modify the <span class="keyword">parameter</span> include_dirs <span class="comment">in setup.cfg)</span></div><div class="line">running <span class="comment">install_lib</span></div><div class="line">running <span class="comment">install_egg_info</span></div><div class="line">Removing /usr/<span class="comment">lib64</span>/python2<span class="number">.6</span>/<span class="comment">site-packages</span>/PyYAML<span class="number">-3.11</span>-py2<span class="number">.6</span>.egg-info</div><div class="line">Writing /<span class="comment">usr</span>/lib64/<span class="comment">python2.6</span>/site-packages/<span class="comment">PyYAML-3.11-py2.6.egg-info</span></div></pre></td></tr></table></figure>
<p>åœ¨centos6.8ç³»ç»Ÿä¸­ï¼Œå¯ä»¥é€šè¿‡<code>yum -y install libyaml</code>åŒ…è§£å†³ï¼Œæˆ–è€…ä»ISOæ–‡ä»¶ä¸­æä¾›è¯¥åŒ…ï¼Œé€šè¿‡rpm -ivhè¿›è¡Œå®‰è£…ã€‚</p>
<p>###äºŒã€Ansibleçš„é…ç½®ä¸éªŒè¯</p>
<p>yum å®‰è£…ä½¿ç”¨é»˜è®¤ç¤ºä¾‹é…ç½®æ–‡ä»¶åï¼Œç¼–è¾‘/etc/ansible/hostsæ–‡ä»¶ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯ansibleæ˜¯å¦å¯ç”¨ï¼š</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@docker ~]# cat /etc/ansible/hosts</div><div class="line">[test]</div><div class="line"><span class="number">10.212</span><span class="number">.52</span><span class="number">.252</span> ansible_ssh_user=root ansible_ssh_pass=qwe123.com</div><div class="line"><span class="number">10.212</span><span class="number">.52</span><span class="number">.14</span> ansible_ssh_user=root ansible_ssh_pass=abc123</div><div class="line"><span class="number">10.212</span><span class="number">.52</span><span class="number">.16</span> ansible_ssh_user=root ansible_ssh_pass=<span class="number">91</span>it.org</div></pre></td></tr></table></figure>
<p>ä»¥ä¸Šçš„é…ç½®ä¸­ï¼Œæˆ‘é…ç½®äº†ä¸€ä¸ªtestç»„ï¼Œè¯¥ç»„ä¸‹æœ‰ä¸‰å°ä¸»æœºï¼Œä¸‰å°éƒ½ä½¿ç”¨rootéªŒè¯ï¼Œä¸‰å°çš„å¯†ç åˆ†åˆ«æ˜¯361way.comã€abc123ã€91it.org ã€‚</p>
<p>æ³¨ï¼šåé¢çš„ç”¨æˆ·å’Œå¯†ç é¡¹æ˜¯éå¿…é¡»çš„ï¼Œåœ¨é…ç½®keyè®¤è¯çš„æƒ…å†µä¸‹ï¼Œä¸ä½¿ç”¨å¯†ç ä¹Ÿå¯ä»¥ç›´æ¥æ“ä½œ ã€‚æœªä½¿ç”¨keyçš„ï¼Œä¹Ÿå¯ä»¥åœ¨ansibleé€šè¿‡ -kå‚æ•°åœ¨æ“ä½œå‰è¯¢é—®æ‰‹åŠ¨è¾“å…¥å¯†ç ã€‚</p>
<p>é…ç½®æ–‡ä»¶å°±æ˜¯ä¸€èˆ¬ä¸‹ç›®å½•çš„hostsæ–‡ä»¶ã€‚</p>
<p>åœ¨åº“å­˜ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<ul>
<li>ä¸»æœºåœ°å€</li>
<li>ä¸»æœºåˆ†ç»„</li>
<li>è¿æ¥å±æ€§ï¼ˆç™»å½•åï¼Œå¯†ç ï¼Œç§˜é’¥ï¼Œç«¯å£ç­‰ï¼‰<br>1ï¼Œä¸»æœºåœ°å€å’Œåˆ†ç»„</li>
</ul>
<p>å®šä¹‰ä¸»æœºåœ°å€å’Œåç§°æ¯”è¾ƒç®€å•ï¼š</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">[&lt;ä¸»æœºå&gt;]</span></div><div class="line">&lt;ä¸»æœº IP&gt;</div></pre></td></tr></table></figure>
<p>å®šä¹‰åˆ†ç»„çš„è¯­æ³•ç±»ä¼¼ï¼Œå°±æ˜¯åœ¨åå­—ååŠ ä¸Š:childrenï¼Œæˆå‘˜å¯ä»¥æ˜¯ä¸»æœºåï¼Œä¹Ÿå¯ä»¥æ˜¯åˆ†ç»„åï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[<span class="tag">&lt;<span class="name">åˆ†ç»„å</span>&gt;</span>:children]</div><div class="line"><span class="tag">&lt;<span class="name">ä¸»æœºå</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">åˆ†ç»„å</span>&gt;</span></div></pre></td></tr></table></figure>
<p>2ï¼Œè¿æ¥å±æ€§</p>
<p>å¯ä»¥é’ˆå¯¹SSHè¿æ¥æŒ‡å®šä¸€äº›å‚æ•°ï¼š</p>
<ul>
<li><code>ansible_ssh_host</code>ï¼šä¸»æœºåã€‚</li>
<li><code>ansible_ssh_port</code>ï¼šSSHç«¯å£ï¼Œé»˜è®¤22ã€‚</li>
<li><code>ansible_ssh_user</code>ï¼šç™»å½•ç”¨æˆ·ã€‚</li>
<li><code>ansible_ssh_pass</code>ï¼šç™»é™†å¯†ç ã€‚</li>
<li><code>ansible_ssh_private_key_file</code>ï¼šç§é’¥ã€‚</li>
</ul>
<p>é€šè¿‡ç§é’¥ç™»é™†çš„è¯ï¼Œå°±ä¸è¦æŒ‡å®šç™»å½•å¯†ç äº†ï¼Œä¸»æœºåä¹Ÿå¯ä»¥å¿½ç•¥ã€‚å½“ç„¶ï¼Œæ—¢ç„¶æ˜¯ä½¿ç”¨ç§é’¥ç™»é™†ï¼Œéœ€è¦ä½ ç¡®ä¿å·²ç»åœ¨å„ä¸ªä¸­ä¸»æœºçš„authorized_keysé‡Œæ·»åŠ äº†å¯¹åº”çš„å…¬é’¥ã€‚</p>
<p>3ï¼Œæ¼”ç¤º</p>
<p>å®Œæ•´çš„åº“å­˜ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> -----------------</span></div><div class="line"><span class="meta">#</span><span class="bash"> é¦–å…ˆå®šä¹‰å„ä¸ªä¸»æœº</span></div><div class="line"><span class="meta">#</span><span class="bash"> -----------------</span></div><div class="line"><span class="meta">#</span><span class="bash">============================01_version=============================<span class="comment">#</span></span></div><div class="line"></div><div class="line">[tomcat-account_01]</div><div class="line">  10.27.232.82</div><div class="line">[tomcat-point_01]</div><div class="line">  10.27.2.12</div><div class="line">[tomcat-system_01]</div><div class="line">   10.27.232.12</div><div class="line"> [tomcat-family_01]</div><div class="line">   10.27.230.63</div><div class="line"> [tomcat-mission_01]</div><div class="line">   10.47.59.12</div><div class="line"> [tomcat-card_01]</div><div class="line">   10.47.74.12</div><div class="line"> [tomcat-check_01]</div><div class="line">   10.47.107.153</div><div class="line">   </div><div class="line"><span class="meta">#</span><span class="bash"> -----------------</span></div><div class="line"><span class="meta">#</span><span class="bash"> å®šä¹‰åˆ†ç»„</span></div><div class="line"><span class="meta">#</span><span class="bash"></span></div><div class="line"><span class="meta">#</span><span class="bash"> åœ¨è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸‰ä¸ªåˆ†ç»„ï¼Œåˆ†åˆ«åä¸ºï¼š</span></div><div class="line"><span class="meta">#</span><span class="bash">   - cluster1</span></div><div class="line"><span class="meta">#</span><span class="bash">   - light</span></div><div class="line"><span class="meta">#</span><span class="bash">   - starwar</span></div><div class="line"><span class="meta">#</span><span class="bash"> -----------------</span></div><div class="line"></div><div class="line">[cluster1:children]</div><div class="line">tomcat-account_01</div><div class="line">tomcat-point_01</div><div class="line">tomcat-system_01</div><div class="line">tomcat-family_01</div><div class="line">tomcat-mission_01</div><div class="line"></div><div class="line">[light:children]</div><div class="line">tomcat-account_01</div><div class="line">tomcat-point_01</div><div class="line">tomcat-system_01</div><div class="line">tomcat-family_01</div><div class="line">tomcat-mission_01</div><div class="line"></div><div class="line">[starwar:children]</div><div class="line">tomcat-account_01</div><div class="line">tomcat-point_01</div><div class="line">tomcat-system_01</div><div class="line">tomcat-family_01</div><div class="line">tomcat-mission_01</div><div class="line"><span class="meta"></span></div><div class="line">#<span class="bash"> -----------------</span></div><div class="line"><span class="meta">#</span><span class="bash"> ç»™åˆ†ç»„å®šä¹‰å˜é‡</span></div><div class="line"><span class="meta">#</span><span class="bash"></span></div><div class="line"><span class="meta">#</span><span class="bash"> è¿™é‡Œæˆ‘ä»¬ç»™ starwar ç»„å®šä¹‰äº†å˜é‡ </span></div><div class="line"><span class="meta">#</span><span class="bash"> -----------------</span></div><div class="line">[cluster1:vars]</div><div class="line">ansible_ssh_port=7525</div><div class="line">ansible_ssh_user=lucas</div><div class="line">ansible_ssh_private_key_file=./ssh/id_rsa</div></pre></td></tr></table></figure>
<p>è¿™é‡Œè®¾ç½®åˆ†ç»„çš„æ—¶å€™åå­—ä¸èƒ½ä¸å•å°æœºå™¨åç§°ä¸€æ ·ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[tomcat-account_01]</div><div class="line">  10.27.232.82</div><div class="line">[tomcat-account_01:children]</div><div class="line">tomcat-account_01</div></pre></td></tr></table></figure>
<p>è¿™é‡Œä¾‹å­æ˜¯é”™è¯¯çš„ï¼Œä¼šæç¤ºåˆ†ç»„å­˜åœ¨ã€‚</p>
<p>ä¸ºäº†å®‰å…¨å’Œæ–¹ä¾¿åœ¨hostsé‡Œé¢å°±ä¸éœ€è¦å†™ç”¨æˆ·åå’Œå¯†ç ã€‚<br>åšä¸ªå…ç§˜é’¥ç™»é™†ã€‚<br>è¿™é‡Œæˆ‘è‡ªå·±å¯¹æ§åˆ¶çš„æœºå™¨å…¨éƒ¨åšäº†å…ç§˜é’¥ç™»é™†ï¼Œæ‰€ä»¥è¿™é‡Œåªéœ€è¦è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="selector-attr">[redis1]</span></div><div class="line">192<span class="selector-class">.168</span><span class="selector-class">.1</span><span class="selector-class">.173</span></div><div class="line"></div><div class="line"><span class="selector-attr">[redis2]</span></div><div class="line">192<span class="selector-class">.168</span><span class="selector-class">.1</span><span class="selector-class">.174</span></div><div class="line"></div><div class="line"><span class="selector-attr">[tomcat_A1]</span></div><div class="line">192<span class="selector-class">.168</span><span class="selector-class">.1</span><span class="selector-class">.175</span></div><div class="line"></div><div class="line"><span class="selector-attr">[tomcat_B1]</span></div><div class="line">192<span class="selector-class">.168</span><span class="selector-class">.1</span><span class="selector-class">.176</span></div><div class="line"></div><div class="line"><span class="selector-attr">[tomcat_C1]</span></div><div class="line">192<span class="selector-class">.168</span><span class="selector-class">.1</span><span class="selector-class">.177</span></div><div class="line"></div><div class="line"><span class="selector-attr">[tomcat_D1]</span></div><div class="line">192<span class="selector-class">.168</span><span class="selector-class">.1</span><span class="selector-class">.178</span></div></pre></td></tr></table></figure>
<p>è¿™é‡Œæ˜¯æ‰§è¡Œè„šæœ¬ã€‚</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ansible tomcat_D1 -m <span class="keyword">shell</span><span class="bash"> <span class="_">-a</span> <span class="string">"sh +x  /root/update/shoppingmall.sh"</span></span></div></pre></td></tr></table></figure>
<p>ä¾‹å­æ“ä½œæŸ¥çœ‹zk1åˆ†ç»„ä¸Šæ‰€æœ‰æœºå™¨ç«¯å£ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">[root@salt ansible]<span class="comment"># ansible zk1:children -m shell -a "netstat -ntulp"</span></div><div class="line">10.27.238.75 | SUCCESS | rc=0 &gt;&gt;</div><div class="line">Active Internet connections (only servers)</div><div class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name</div><div class="line">tcp        0      0 0.0.0.0:2181                0.0.0.0:*                   LISTEN      12497/java</div><div class="line">tcp        0      0 0.0.0.0:56521               0.0.0.0:*                   LISTEN      12497/java</div><div class="line">tcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      1251/sshd</div><div class="line">tcp        0      0 0.0.0.0:4888                0.0.0.0:*                   LISTEN      12497/java</div><div class="line">tcp        0      0 127.0.0.1:15770             0.0.0.0:*                   LISTEN      1434/aegis_quartz</div><div class="line">udp        0      0 118.178.240.129:123         0.0.0.0:*                               1262/ntpd</div><div class="line">udp        0      0 10.27.238.75:123            0.0.0.0:*                               1262/ntpd</div><div class="line">udp        0      0 127.0.0.1:123               0.0.0.0:*                               1262/ntpd</div><div class="line">udp        0      0 0.0.0.0:123                 0.0.0.0:*                               1262/ntpd</div><div class="line"></div><div class="line">10.47.100.200 | SUCCESS | rc=0 &gt;&gt;</div><div class="line">Active Internet connections (only servers)</div><div class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name</div><div class="line">tcp        0      0 0.0.0.0:58367               0.0.0.0:*                   LISTEN      11232/java</div><div class="line">tcp        0      0 10.47.100.200:10050         0.0.0.0:*                   LISTEN      646/zabbix_agentd</div><div class="line">tcp        0      0 0.0.0.0:2181                0.0.0.0:*                   LISTEN      11232/java</div><div class="line">tcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      1243/sshd</div><div class="line">tcp        0      0 0.0.0.0:4888                0.0.0.0:*                   LISTEN      11232/java</div><div class="line">tcp        0      0 127.0.0.1:15770             0.0.0.0:*                   LISTEN      1436/aegis_quartz</div><div class="line">udp        0      0 120.27.152.77:123           0.0.0.0:*                               1254/ntpd</div><div class="line">udp        0      0 10.47.100.200:123           0.0.0.0:*                               1254/ntpd</div><div class="line">udp        0      0 127.0.0.1:123               0.0.0.0:*                               1254/ntpd</div><div class="line">udp        0      0 0.0.0.0:123                 0.0.0.0:*                               1254/ntpd</div></pre></td></tr></table></figure>

	

	
		<span class="different-posts"><a href="/2016/03/07/è‡ªåŠ¨åŒ–+Jenkins/Ansible/Ansible å°ç»“ï¼ˆä¸€ï¼‰ansibleçš„å®‰è£… /" onclick="window.history.go(-1); return false;">â¬…ï¸ Go back </a></span>

	

</article>

	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<h5>Hi there,</h5>
	<p style="text-align:justify;">my name is Yancy, they know me as RadiantğŸ‘ğŸ‘. This blog is about Bi-data and my live.<br> I like ğŸŒ³ğŸŒ³ğŸŒ³</p>
</div>


	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>Â© 2017 Yancy | Powered by <a href="http://blog.yancy.cc/">Yancy</a> | Theme <a href="https://github.com/yangcvo">Yancy_GitHub</a></span>
		</div>

	</div>


</footer>



</body>

</html>
