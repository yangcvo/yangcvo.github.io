<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset="utf-8">
    
    <title>Cheng yang&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Personal blog, thinking and sharing of technology and life">
<meta property="og:type" content="website">
<meta property="og:title" content="Cheng yang's Blog">
<meta property="og:url" content="http://blog.yangcvo.me/page/38/index.html">
<meta property="og:site_name" content="Cheng yang's Blog">
<meta property="og:description" content="Personal blog, thinking and sharing of technology and life">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cheng yang's Blog">
<meta name="twitter:description" content="Personal blog, thinking and sharing of technology and life">
    

    
        <link rel="alternate" href="/" title="Cheng yang&#39;s Blog" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">Cheng yang&#39;s Blog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="https://github.com/yangcvo">GitHub</a>
                
                    <a class="main-nav-link" href="http://weibo.com/yangcvo">Weibo</a>
                
                    <a class="main-nav-link" href="http://blog.yangcvo.me/2014/05/04/%E4%B8%AA%E4%BA%BA%E8%AE%B0%E5%BD%95/About-me/">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/yangc.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="https://github.com/yangcvo">GitHub</a></td>
                
                    <td><a class="main-nav-link" href="http://weibo.com/yangcvo">Weibo</a></td>
                
                    <td><a class="main-nav-link" href="http://blog.yangcvo.me/2014/05/04/%E4%B8%AA%E4%BA%BA%E8%AE%B0%E5%BD%95/About-me/">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/yangc.png" />
            <h2 id="name">yangc</h2>
            <h3 id="title">Operation Engineer</h3>
            <span id="location"><i class="fa fa-map-marker"></i>hangzhou, China</span>
            <a id="follow" target="_blank" href="https://github.com/yangcvo/">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                113
                <span>posts</span>
            </div>
            <div class="article-info-block">
                38
                <span>tags</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/yangcvo" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://twitter.com/yangaov" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.facebook.com/yango88" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="dribbble" class=tooltip>
                            <i class="fa fa-dribbble"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main">
    <article id="post-性能监控/Somekeping/用最简单易懂的方式安装smokeping" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2014/04/19/性能监控/Somekeping/用最简单易懂的方式安装smokeping/">用最简单的方式安装smokeping</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2014/04/19/性能监控/Somekeping/用最简单易懂的方式安装smokeping/">
            <time datetime="2014-04-19T04:33:03.000Z" itemprop="datePublished">Apr 19 2014</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/monitoring/">monitoring</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/IDC监控/">IDC监控</a>, <a class="tag-link" href="/tags/Smokeping/">Smokeping</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>smokeping这个监控还是很强大的，用这个监控是在第一家公司做IDC起家后面转型CDN云计算云加速。<br>这个也是我学的最早的一款监控，在这里我用编译安装方式。也有脚本安装不过需要了解过somkeping安装过程会比较看的懂脚本。</p>
<p>适用于宽带运营商维护和IDC机房维护可以检测本地网络的到上级运营商出口这段路由各个节点的稳定性            可以检测本地网络到各主要门户网站的<code>延时，丢包率，稳定性</code><br>可以检测本地网络到各地游戏服务器的<code>延时，丢包率，稳定性</code></p>
<p>smokeping缺点：不能在前台Web页面添加要检测的节点，必须在后台smokeping的配置文件中添加 </p>
<h3 id="安装前的准备："><a href="#安装前的准备：" class="headerlink" title="安装前的准备："></a>安装前的准备：</h3><ol>
<li>操作系统：选择centOS6.5最小化版， 里面的RPM包基本上都是最新的。   </li>
<li>注1: centOS 5.6版本在安装rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm包是会遇到依赖性问题，要求安装rpmlib包，但centOS5.6版本中的rpmlib版本较低，无法直接安装   </li>
<li>注2：在安装centOS6.5时，要注意设置系统的IP地址，如下图,点击【configure network】按钮，选择【system eth0】, 点击 【IPv4Seting】,设置IP地址    </li>
<li>注3: 选择安装包时，点选【Basic Server】, 要安装621个基本包 注4: 其他安装步骤，按照正常的安装流程操作即可 </li>
</ol>
<h3 id="二-安装过程"><a href="#二-安装过程" class="headerlink" title="二. 安装过程"></a>二. 安装过程</h3><p>修改时区</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">\cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure>
<p>同步时间</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ntpdate time.nist.gov</span><br></pre></td></tr></table></figure>
<p>写入BIOS</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hwclock -w</span><br></pre></td></tr></table></figure>
<p>关闭防火墙</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">service iptables stop</span><br></pre></td></tr></table></figure>
<h3 id="1-安装第三方软件源"><a href="#1-安装第三方软件源" class="headerlink" title="1. 安装第三方软件源"></a>1. 安装第三方软件源</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">64位系统 </span><br><span class="line">rpm  -Uvh http://apt.sw.be/redhat/el6/en/x86_64/rpmforge/RPMS/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm</span><br><span class="line">32位系统</span><br><span class="line">rpm  -Uvh http://apt.sw.be/redhat/el6/en/i386/rpmforge/RPMS/rpmforge-release-0.5.3-1.el6.rf.i686.rpm</span><br></pre></td></tr></table></figure>
<p>注：安装这个源后，接下来要安装的大量的依赖包就不会报错</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -Uvh  http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm </span><br><span class="line">sed -i <span class="string">'s/^#baseurl/baseurl/g'</span> /etc/yum.repos.d/epel.repo</span><br><span class="line">sed -i <span class="string">'s/mirrorlist/#mirrorlist/g'</span> /etc/yum.repos.d/epel.repo</span><br></pre></td></tr></table></figure>
<h3 id="2-安装rrdtool与依赖库"><a href="#2-安装rrdtool与依赖库" class="headerlink" title="2. 安装rrdtool与依赖库"></a>2. 安装rrdtool与依赖库</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum -y install perl perl-Net-Telnet perl-Net-DNS perl-LDAP perl-libwww-perl perl-RadiusPerl perl-IO-Socket-SSL perl-Socket6 perl-CGI-SpeedyCGI perl-FCGI perl-CGI-SpeedCGI perl-Time-HiRes perl-ExtUtils-MakeMaker perl-RRD-Simple rrdtool rrdtool-perl curl fping echoping  httpd httpd-devel gcc make  wget libxml2-devel libpng-devel glib pango pango-devel freetype freetype-devel fontconfig cairo cairo-devel libart_lgpl libart_lgpl-devel mod_fastcgi screen wqy-zenhei-fonts.noarch wqy-zenhei-fonts-common.noarch lrzsz nginx</span><br></pre></td></tr></table></figure>
<p>注：<code>perl-CGI-SpeedyCGI，perl-CGI-SpeedCGI</code>这两个包在安装过程中会提示找不到，但没关系<br>注：用yum安装大量的依赖包还是很方便的，而百度上有些关于安装smokeping的文档要求使用wget下载后再用<code>make,make install</code>方式安装，虽然make方式不复杂，但通过make编译再安装几十个包就显得有点繁锁了。</p>
<h3 id="3-下载与安装smokeping"><a href="#3-下载与安装smokeping" class="headerlink" title="3.下载与安装smokeping"></a>3.下载与安装smokeping</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget http://oss.oetiker.ch/smokeping/pub/smokeping-2.6.8.tar.gz</span><br><span class="line">wget http://oss.oetiker.ch/smokeping/pub/smokeping-2.6.11.tar.gz    </span><br><span class="line">tar zxvf smokeping-2.6.8.tar.gz</span><br><span class="line"><span class="built_in">cd</span> smokeping-2.6.8</span><br><span class="line">./configure --prefix=/usr/<span class="built_in">local</span>/smokeping</span><br></pre></td></tr></table></figure>
<p>出现问题是因为需要安装perl的模块，所以运行下面内容即可</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">如果只出现 Config::Grammar<span class="string">' ... Failed</span><br><span class="line">解决 '</span>Config::Grammar<span class="string">' ... Failed</span><br><span class="line">wget http://search.cpan.org/CPAN/authors/id/D/DS/DSCHWEI/Config-Grammar-1.10.tar.gz</span><br><span class="line">tar zxvf Config-Grammar-1.10.tar.gz</span><br><span class="line">cd Config-Grammar-1.10</span><br><span class="line">perl Makefile.PL</span><br><span class="line">make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure>
<p>如果出现很多个failed，就用下面的方法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./setup/build-perl-modules.sh /usr/<span class="built_in">local</span>/smokeping/thirdparty  这个是为前面failed做安装  </span><br><span class="line">./co nfigure --prefix=/usr/<span class="built_in">local</span>/smokeping   </span><br><span class="line">                                                                      </span><br><span class="line">如果还出现问题可以看下这里面的参考。http://bbs.51cto.com/thread-1106181-1.html</span><br><span class="line">/usr/bin/gmake install</span><br><span class="line"></span><br><span class="line">安装下yum install cpan     perl -MCPAN <span class="_">-e</span> <span class="string">'install CGI'</span>           perl -MCPAN <span class="_">-e</span> <span class="string">'install CGI::Fast '</span>  这个安装好了然后再执行这一步。</span><br></pre></td></tr></table></figure>
<p>如果上面提示CGI 没有安装成功。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wgethttp://www.cpan.org/authors/id/M/MA/MARKSTOS/</span><br><span class="line">CGI.pm-3.65.tar.gz</span><br><span class="line">tar zxvf CGI.pm-3.65.tar.gz</span><br><span class="line"><span class="built_in">cd</span> CGI.pm-3.65</span><br><span class="line">perl Makefile.PL</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line">然后再执行下 ./configure --prefix=/usr/<span class="built_in">local</span>/smokeping</span><br></pre></td></tr></table></figure>
<p>现在smokeping安装完成</p>
<h3 id="4-配置smokeping"><a href="#4-配置smokeping" class="headerlink" title="4. 配置smokeping"></a>4. 配置smokeping</h3><h2 id="第一种-使用nginx"><a href="#第一种-使用nginx" class="headerlink" title="第一种 使用nginx"></a>第一种 使用nginx</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">1.安装nginx</span><br><span class="line">rpm -Uvh  http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm</span><br><span class="line">yum install -y nginx</span><br><span class="line">https://metacpan.org/pod/release/MSTROUT/ExtUtils-MakeMaker-6.59/lib/ExtUtils/MakeMaker.pm  下载Make 让他直接执行</span><br></pre></td></tr></table></figure>
<p>2.安装基础IO </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root</span><br><span class="line">wget  http://220.194.199.196/download/IO-All-0.46.tar.gz</span><br><span class="line">tar xvzf IO-All-0.46.tar.gz</span><br><span class="line"><span class="built_in">cd</span> IO-All-0.46</span><br><span class="line">perl Makefile.PL       <span class="comment">#  这里出现这个问题 把那个文件删了就行了。</span></span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<p>3.配置nginx的sock<br>创建fcgi sock 文件，配置nginx fcgi使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#wget http://autonagios.googlecode.com/svn/trunk/autonagios-20100103/files/nginx-fcgi.txt  -O /etc/nginx-fcgi</span></span><br><span class="line">wget http://117.27.153.133/nginx-fcgi.txt -O /etc/nginx-fcgi </span><br><span class="line">chmod a+x /etc/nginx-fcgi</span><br><span class="line">/etc/nginx-fcgi <span class="_">-l</span> /var/<span class="built_in">log</span>/nginx-fcgi.log -pid /var/run/nginx-fcgi.pid -S /var/run/nginx-fcgi.sock</span><br><span class="line">chmod 777 /var/run/nginx-fcgi.sock</span><br></pre></td></tr></table></figure>
<p>4.增加smokeping使用的data、var、和cache目录</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/smokeping</span><br><span class="line">mkdir data var cache</span><br><span class="line">mv htdocs/smokeping.fcgi.dist htdocs/smokeping.fcgi</span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/smokeping/etc</span><br><span class="line">mv config.dist config</span><br><span class="line">chmod 600 /usr/<span class="built_in">local</span>/smokeping/etc/smokeping_secrets.dist</span><br></pre></td></tr></table></figure>
<p>5.上传监控节点conf文件到smokeping的etc目录<br>6.修改smokpeing配置脚本</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vi config</span><br><span class="line">在如下位置修改</span><br><span class="line"></span><br><span class="line">*** Database ***</span><br><span class="line">step     = 300</span><br><span class="line">pings    = 20</span><br><span class="line">修改为</span><br><span class="line">*** Database ***</span><br><span class="line">step     = 60</span><br><span class="line">pings    = 20</span><br><span class="line"></span><br><span class="line">在如下位置添加一句话</span><br><span class="line">*** Presentation ***</span><br><span class="line">template = /usr/<span class="built_in">local</span>/smokeping/etc/basepage.html.dist</span><br><span class="line">charset=utf-8</span><br></pre></td></tr></table></figure>
<p>在第一个加号位置下将监控节点文件引入，如下例子</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">+ testnetwork</span><br><span class="line">menu=测试网络状况</span><br><span class="line">title= 测试网络状况</span><br><span class="line">@include CT-IP.conf</span><br><span class="line">@include CN-IP.conf</span><br><span class="line">@include CT_IDC.conf</span><br><span class="line">@include CNC-IDC.conf</span><br></pre></td></tr></table></figure>
<p>保存退出</p>
<p>7.增加data、var、cache目录的软连接</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ln <span class="_">-s</span> /usr/<span class="built_in">local</span>/smokeping/data/ /usr/share/nginx/html/data</span><br><span class="line">ln <span class="_">-s</span>  /usr/<span class="built_in">local</span>/smokeping/cache/ /usr/share/nginx/html/cache</span><br><span class="line">ln <span class="_">-s</span> /usr/<span class="built_in">local</span>/smokeping/htdocs/cropper/ /usr/share/nginx/html/cropper</span><br></pre></td></tr></table></figure>
<p>8.修改nginx 配置文件<br>查看下nginx的版本，使用nginx -v 查看，如下例子：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"> nginx -v</span><br><span class="line">nginx version: nginx/1.0.15</span><br></pre></td></tr></table></figure>
<p>修改nginx配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi /etc/nginx/conf.d/default.conf</span><br><span class="line">--增加fcgi 指向</span><br><span class="line">    location  ~ .*\.fcgi$ &#123;</span><br><span class="line">        root /usr/local/smokeping/htdocs/;</span><br><span class="line">        gzip off;</span><br><span class="line">        fastcgi_pass  unix:/var/run/nginx-fcgi.sock;</span><br><span class="line">        fastcgi_index smokeping.fcgi;</span><br><span class="line">        include fastcgi.conf;                 #1.0.x 与0.8.x 用这个</span><br><span class="line">        #include fastcgi_params;            #1.4.x版本用 fastcgi_params</span><br><span class="line">        #fastcgi_param   SCRIPT_FILENAME /opt/smokeping/htdocs$fastcgi_script_name; #1.4.x版本必加</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>保存退出</p>
<h2 id="第二种-使用apache"><a href="#第二种-使用apache" class="headerlink" title="第二种 使用apache"></a>第二种 使用apache</h2><p>(1) 创建cache、data、var目录</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/smokeping</span><br><span class="line">mkdir htdocs/cache data var</span><br></pre></td></tr></table></figure>
<p>(2) 在创建日志</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">touch /var/<span class="built_in">log</span>/smokeping.log</span><br></pre></td></tr></table></figure>
<p>(3) 上传监控节点的conf文件到smokeping的etc目录下<br>修改smokeping目录的用户和组权限</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chown apache:apache -R /usr/<span class="built_in">local</span>/smokeping</span><br><span class="line">chown apache:apache /var/<span class="built_in">log</span>/smokeping.log</span><br></pre></td></tr></table></figure>
<p>(4) 修改配置文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/smokeping/htdocs/</span><br><span class="line">mv smokeping.fcgi.dist smokeping.fcgi</span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/smokeping/etc</span><br><span class="line">mv config.dist config</span><br><span class="line">vi config</span><br><span class="line"></span><br><span class="line">修改改行设置</span><br><span class="line">imgcache = /usr/<span class="built_in">local</span>/smokeping/cache</span><br><span class="line">imgcache = /usr/<span class="built_in">local</span>/smokeping/htdocs/cache</span><br><span class="line"></span><br><span class="line"> *** Database ***</span><br><span class="line">step  = 300</span><br><span class="line">pings  = 60</span><br><span class="line">然后修改step，从300改为60，这是检测的时间, pings 从20 改为60, 即60秒ping 60次</span><br><span class="line"></span><br><span class="line">在如下位置添加一句话</span><br><span class="line">*** Presentation ***</span><br><span class="line">template = /usr/<span class="built_in">local</span>/smokeping/etc/basepage.html.dist</span><br><span class="line">charset=utf-8</span><br><span class="line"></span><br><span class="line">在第一个加号位置下将监控节点文件引入，如下例子</span><br><span class="line">+ testnetwork</span><br><span class="line">menu=测试网络状况</span><br><span class="line">title= 测试网络状况</span><br><span class="line">@include CT-IP.conf</span><br><span class="line">@include CN-IP.conf</span><br><span class="line">@include CT_IDC.conf</span><br><span class="line">@include CNC-IDC.conf</span><br></pre></td></tr></table></figure>
<p>保存退出 </p>
<p> (5) 配置完成之后修改密码文件权限</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chmod 600 /usr/<span class="built_in">local</span>/smokeping/etc/smokeping_secrets.dist</span><br></pre></td></tr></table></figure>
<ol>
<li>修改apache的配置</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/httpd/conf/httpd.conf</span><br><span class="line">在DocumentRoot <span class="string">"/var/www/html"</span> 这一行之下添加如下内容：</span><br><span class="line"></span><br><span class="line">Alias /cache <span class="string">"/usr/local/smokeping/htdocs/cache"</span></span><br><span class="line">Alias /cropper <span class="string">"/usr/local/smokeping/htdocs/cropper"</span></span><br><span class="line">Alias /smokeping <span class="string">"/usr/local/smokeping/htdocs"</span></span><br><span class="line">&lt;Directory <span class="string">"/usr/local/smokeping/htdocs"</span>&gt;</span><br><span class="line">  AllowOverride None</span><br><span class="line">  AddHandler cgi-script .fcgi .cgi</span><br><span class="line">  Options ExecCGI</span><br><span class="line">  &lt;IfModule dir_module&gt;</span><br><span class="line">     DirectoryIndex smokeping.fcgi</span><br><span class="line">  &lt;/IfModule&gt;</span><br><span class="line">  Order allow,deny</span><br><span class="line">  Allow from all </span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>
<ol>
<li>设置开机启动httpd, smokeping,并关闭iptables.</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"/usr/local/smokeping/bin/smokeping --logfile=/var/log/smokeping.log 2&gt;&amp;1 &amp;"</span> &gt;&gt; /etc/rc.local</span><br><span class="line">chkconfig httpd on      <span class="comment">#开机启动httpd进程</span></span><br><span class="line">chkconfig iptables off  <span class="comment">#开机不启动iptables服务</span></span><br><span class="line">chkconfig nginx on</span><br></pre></td></tr></table></figure>
<ol>
<li>启动http或者nginx以及smokeping</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">service httpd start service nginx start</span><br><span class="line">/usr/<span class="built_in">local</span>/smokeping/bin/smokeping --debug-daemon</span><br><span class="line">chown apache:apache -R /usr/<span class="built_in">local</span>/smokeping</span><br></pre></td></tr></table></figure>
<ol>
<li>打开检测主机的Web页面.</li>
</ol>
<p>使用httpd做web，在Web浏览器里输入<code>http://您的监控主机IP/smokeping</code>      这里启动不了，看下什么原因。是不是CT-IDC.conf 没有上传到etc下面</p>
<p>打开这里出现500  说明配置正确防火墙看下。<code>serenfroce 0</code> 有没有关闭。</p>
<p>使用nginx做web，在Web浏览器里输入 <a href="http://您的监控主机IP/smokeping.fcgi" target="_blank" rel="external">http://您的监控主机IP/smokeping.fcgi</a>    这里启动不了，看下什么原因。是不是CT-IDC.conf 没有上传到etc下面</p>
<p>如果遇到500错误：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Internal Server Error</span><br><span class="line">The server encountered an internal error or misconfiguration and was unable to complete your request.</span><br><span class="line">Please contact the server administrator, root@localhost and inform them of the time the error occurred, and anything you might have <span class="keyword">done</span> that may have caused the error.</span><br><span class="line">More information about this error may be available <span class="keyword">in</span> the server error log.</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">Apache/2.2.15 (CentOS) Server at 192.168.2.101 Port 80</span><br><span class="line"></span><br><span class="line">说明没有关闭SElinux 选项，关闭就正常了</span><br><span class="line">vi /etc/sysconfig/selinux</span><br><span class="line">SELINUX=permissive</span><br><span class="line">[root@localhost ~]<span class="comment"># getenforce     #查看SElinux 的命令</span></span><br><span class="line">Permissive                      <span class="comment">#返回的结果是Permissive, 表示已经关闭SElinux了</span></span><br></pre></td></tr></table></figure>
<ol>
<li>在Web页面增加验证用户名和密码(可选步骤)</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">(1)修改httpd.conf里的内容</span><br><span class="line">&lt;Directory <span class="string">"/usr/local/smokeping"</span>&gt;</span><br><span class="line">AllowOverride None</span><br><span class="line">Options All</span><br><span class="line">AddHandler cgi-script .fcgi .cgi</span><br><span class="line">AllowOverride AuthConfig</span><br><span class="line">Order allow,deny</span><br><span class="line">Allow from all</span><br><span class="line">AuthName <span class="string">"Smokeping"</span></span><br><span class="line">AuthType Basic</span><br><span class="line">AuthUserFile /usr/<span class="built_in">local</span>/smokeping/htdocs/htpasswd</span><br><span class="line">Require valid-user</span><br><span class="line">DirectoryIndex smokeping.fcgi</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>
<p>注：上面的内容部分已经添加，这里仅添加红色字体内容即可。</p>
<p>(2) 设置登录账户与密码<br>进入cd /usr/local/smokeping/htdocs目录， 执行命令：htpasswd -c /usr/local/smokeping/htdocs/htpasswd admin<br>这个是设置登录账户为admin，密码在后面输入，然后重启httpd就可以实现密码验证登录<br>重新登录web页面，会要求输入用户名和密码.</p>
<ol>
<li>一定要同步好时间</li>
</ol>
<p>在ESXI4的虚拟机中，定期执行<code>ntpdate 210.72.145.44</code>    #或者与本地的时间服务器同步<br>在vmware workstation中，安装vmware-tools， 虚拟机的时间会自动与其宿主机时间同步</p>
<p>注： 如果vmware workstation中的虚拟机不安装vmware-tools，则虚拟机时间会与宿主机时间相隔整整8个小时(虚拟机时间早于宿主机时间)<br> vmware-tools的安装不在此叙述</p>
<ol>
<li><p>特别说明: 修改/usr/local/smokeping/etc/config 文件的配置参数，必须重启动smokeping程序</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">(1)如果重启动smokeping程序失败，根据报错提示删除/usr/<span class="built_in">local</span>/smokeping/data子文件夹的rrd文件</span><br><span class="line">(2)中文问题：如果需要在网页里展示中文，修改/usr/<span class="built_in">local</span>/smokeping/etc的config文件</span><br><span class="line">*** Presentation ***</span><br><span class="line">charset = utf-8 //注：在这里添加</span><br><span class="line">然后在menu与titile里修改中文，重启即可</span><br></pre></td></tr></table></figure>
<p>有一个要注意的地方就是，你输入的中文必须在utf-8的字符编码下输入的中文字符，不然会出现乱码。<br> 如果在xshel下，选择file-properities-terminal<br>如果还是不显示就看看你系统里是否安装了中文字体，或者在安装一个</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@smokeping data]<span class="comment"># ps -ef |grep smoke   #查找smokeping进程</span></span><br><span class="line">root      8740     1  0 09:08 ?        00:00:00 /usr/<span class="built_in">local</span>/smokeping/bin/smokeping [FPing]</span><br><span class="line">root     35552 35529  0 09:33 pts/2    00:00:00 grep smoke</span><br><span class="line">[root@smokeping data]<span class="comment"># kill 8740     #杀掉smokeping进程</span></span><br><span class="line">[root@smokeping data]<span class="comment"># ps -ef |grep smoke</span></span><br><span class="line">root     35554 35529  4 09:33 pts/2    00:00:00 grep smoke</span><br><span class="line">smokeping进程已经被杀掉</span><br><span class="line">[root@smokeping data]<span class="comment">#screen                    #如果通过SSH远程登录到监控主机，最后执行screen，在虚拟窗口中启动smokeping</span></span><br><span class="line">/usr/<span class="built_in">local</span>/smokeping/bin/smokeping --logfile=/var/<span class="built_in">log</span>/smokeping.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>
<p>三. 添加需要监控的网站和节点(在/usr/local/smokeping/etc/config中添加)</p>
<ul>
<li><p>smokeping就这点不好，添加节点不能在前台Web页面添加，一定要在后台的配置文件中添加,希望以后的版本中能改进一下  *</p>
</li>
<li><p>修改/usr/local/smokeping/etc/config 后，必须重启smokeping 程序，配置才会生效  *  </p>
</li>
<li><p>smokeping 会根据配置文件config 在/usr/local/smokeping/data 之下添加moniter文件夹，其下包含website子文件夹 *</p>
</li>
<li><p>用vmware workstation的虚拟机测试有一点好处，workstation下的虚拟网卡可以设置出入的丢包率，适合smokeping做丢包测试, 经过测试smokeping检测出的丢包率与vmware worksation虚拟网卡设置的丢包率基本相同,也就是说smokeping 能够反应网络的真实状况 *<br> 添加监控节点示例：注意+是第一层，++是第二层，+++ 是第三层</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">+ moniter                       </span><br><span class="line">menu = moniter</span><br><span class="line">++ website</span><br><span class="line">menu = website</span><br><span class="line">title = moniter website</span><br><span class="line"><span class="comment">#host = /moniter/website/baidu /moniter/website/sina /moniter/website/taobao /moniter/website/QQ</span></span><br><span class="line"></span><br><span class="line">+++ baidu</span><br><span class="line">menu = baidu</span><br><span class="line">title = baidu.com</span><br><span class="line">alerts = someloss</span><br><span class="line">host = www.baidu.com</span><br><span class="line"></span><br><span class="line">+++ sina</span><br><span class="line">menu = sina</span><br><span class="line">title = sina.com.cn</span><br><span class="line">alerts = someloss</span><br><span class="line">host = www.sina.com.cn</span><br><span class="line"></span><br><span class="line">+++ taobao</span><br><span class="line">menu = taobao</span><br><span class="line">title = taobao.com</span><br><span class="line">alerts = someloss</span><br><span class="line">host = www.taobao.com</span><br><span class="line"></span><br><span class="line">+++ QQ</span><br><span class="line">menu = QQ</span><br><span class="line">title = QQ</span><br><span class="line">alerts = someloss</span><br><span class="line">host = www.qq.com.cn</span><br><span class="line"></span><br><span class="line">+++ sohu</span><br><span class="line">menu = sohu</span><br><span class="line">title = sohu</span><br><span class="line">alerts = someloss</span><br><span class="line">host = www.sohu.com</span><br></pre></td></tr></table></figure>
<p>效果图：当前菜单下主机延时，丢包图</p>
<p>效果图：当前菜单下某主机延时，丢包详细图</p>
<p>13.图例说明</p>
<p>绿块表示不丢包，其他颜色的块表示不同程序的丢包。<br>图形越平稳，表示网络越稳定，如果图形峰值和低谷很多，则表示网络时延不稳定，忽高忽低。</p>
<p>这里apache 如果要你做个URL的文件下载测试 </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dd if=/dev/null bs=1M count=1 of=/var/www/html/index.html</span><br></pre></td></tr></table></figure>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://blog.yangcvo.me/2014/04/19/性能监控/Somekeping/用最简单易懂的方式安装smokeping/" data-id="ciy1keeth007gljvu1kk2o6gw" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://blog.yangcvo.me/2014/04/19/性能监控/Somekeping/用最简单易懂的方式安装smokeping/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://blog.yangcvo.me/2014/04/19/性能监控/Somekeping/用最简单易懂的方式安装smokeping/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-个人生活记录/About-me" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2014/03/21/个人生活记录/About-me/">About-me</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2014/03/21/个人生活记录/About-me/">
            <time datetime="2014-03-21T10:53:54.000Z" itemprop="datePublished">Mar 21 2014</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/生活/">生活</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/About-me/">About me</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">2016-1 - ????.? 美年大健康-优健康  </span><br><span class="line">2014.4 -  2015.12 mmtrix 高升控股</span><br></pre></td></tr></table></figure>
<p>My dearest reader</p>
<p>Welcome to my blog. I doubt you got to it by accident. With any luck, you got to it because of a search result. </p>
<p>If so, I really hope I managed to answer any questions you may have had. </p>
<p>With any luck on your part and skill on mine, you not only had your question answered, but had questions you didn’t know you had get answered as well!</p>
<p>Not only that, but you stuck around long enough to visit this page and read about me. Thanks!</p>
<p>My name is, as the site title says, chengyangyang. I went to school for computers and ended up learning about business instead. Sure enough, I thought I knew what I needed to run a successful business.<br>I may have done alright, but it’s not for me. I need to be in front of a terminal emulator, not in front of a room full of people. That’s why I am where I am now.</p>
<p>I’m a Linux server administrator. I’m passionate about the work I do and strive to learn more every day. From time to time I will run into weird and peculiar issues that take a lot of effort to solve. Sometimes I get questions that I have answered many times before. My blog is my repository for solutions and answers.</p>
<p>My goal is to Keep IT DRY. Please check out that page for a complete description of what I mean. If you have something that I should add, let me know. I’m easy to find and always looking for new useful content!</p>
<p>Here’s my contact:</p>
<p>📬  yangcvo[at]gmail.com</p>
<p>🐧  QQ:1165958741</p>
<p>个人简历：<a href="https://gurudigger.com/users/yangc" target="_blank" rel="external">gurudigger</a></p>
<p>欢迎加我QQ和加入技术讨论群：</p>
<p>Linux shell_高级运维派: 459096184<br>Docker-虚拟化技术交流 ：521621407  也交流hadoop大数据方面</p>
<p>14年开始用的百家📖 iteye博客：<a href="http://yango.iteye.com" target="_blank" rel="external">http://yango.iteye.com</a> - 现在已不更新了。</p>
<p>互相学习与交流加我QQ或者发mail给我。😊</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://blog.yangcvo.me/2014/03/21/个人生活记录/About-me/" data-id="ciy1keenm0012ljvucp1md647" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://blog.yangcvo.me/2014/03/21/个人生活记录/About-me/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://blog.yangcvo.me/2014/03/21/个人生活记录/About-me/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/37/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/36/">36</a><a class="page-number" href="/page/37/">37</a><span class="page-number current">38</span>
    </nav>
</section>
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">recent</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/29/日志分析平台/Elasticsearch/搭建(ElasticSearch-2.x Logstash-2.x Kibana-4.5.x zookeeper3.4.6) Kafka为消息中心的ELK日志平台/" class="thumbnail">
    
    
        <span style="background-image:url(https://static-www.elastic.co/assets/blt8aa92986a59a6458/kibana-basics.jpg?q=700)" alt="搭建(ElasticSearch-2.x Logstash-2.x Kibana-4.5.x zookeeper3.4.6) Kafka为消息中心的ELK日志平台" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/日志分析平台/">日志分析平台</a></p>
                            <p class="item-title"><a href="/2016/12/29/日志分析平台/Elasticsearch/搭建(ElasticSearch-2.x Logstash-2.x Kibana-4.5.x zookeeper3.4.6) Kafka为消息中心的ELK日志平台/" class="title">搭建(ElasticSearch-2.x Logstash-2.x Kibana-4.5.x zookeeper3.4.6) Kafka为消息中心的ELK日志平台</a></p>
                            <p class="item-date"><time datetime="2016-12-29T09:56:03.000Z" itemprop="datePublished">Dec 29 2016</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/08/大数据hadoop/ hadoop新增节点集群启动请求异常：Last contact：200/" class="thumbnail">
    
    
        <span style="background-image:url(http://www.51bdtime.com/uploads/allimg/140826/1-140R6103P3405.jpg)" alt="hadoop新增节点集群启动请求异常：Last contact：200" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/大数据/">大数据</a></p>
                            <p class="item-title"><a href="/2016/12/08/大数据hadoop/ hadoop新增节点集群启动请求异常：Last contact：200/" class="title">hadoop新增节点集群启动请求异常：Last contact：200</a></p>
                            <p class="item-date"><time datetime="2016-12-08T09:56:03.000Z" itemprop="datePublished">Dec 8 2016</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/07/Java/Sonarqube和jacoco搭建代码检查/" class="thumbnail">
    
    
        <span style="background-image:url(http://px.thea.cn/Public/Upload/2759083/Intro/1442841940.png)" alt="Sonarqube和jacoco搭建代码检查" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Java/">Java</a></p>
                            <p class="item-title"><a href="/2016/12/07/Java/Sonarqube和jacoco搭建代码检查/" class="title">Sonarqube和jacoco搭建代码检查</a></p>
                            <p class="item-date"><time datetime="2016-12-07T09:56:03.000Z" itemprop="datePublished">Dec 7 2016</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/02/运维安全/gitlab网站被黑redis被劫持6379端口需要提交认证，如何挽救？/" class="thumbnail">
    
    
        <span style="background-image:url(http://image.3001.net/2016/03/%E5%8B%92%E7%B4%A2%E8%BD%AF%E4%BB%B6locky-220x150.jpg)" alt="gitlab网站被黑redis被劫持6379端口需要提交认证，如何挽救？" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/运维安全/">运维安全</a></p>
                            <p class="item-title"><a href="/2016/12/02/运维安全/gitlab网站被黑redis被劫持6379端口需要提交认证，如何挽救？/" class="title">gitlab网站被黑redis被劫持6379端口需要提交认证，如何挽救？</a></p>
                            <p class="item-date"><time datetime="2016-12-02T04:07:27.000Z" itemprop="datePublished">Dec 2 2016</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/01/tomcat/tomcat优化遇到jdk1.8出现⚠️警告：warning:ignoring option PermSize=512msupport was removed in 8.0/" class="thumbnail">
    
    
        <span style="background-image:url(http://thumbs.dreamstime.com/t/tomcat-1930481.jpg)" alt="tomcat优化遇到jdk1.8出现⚠️警告：warning:ignoring option PermSize=512msupport was removed in 8.0" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/tomcat/">tomcat</a></p>
                            <p class="item-title"><a href="/2016/12/01/tomcat/tomcat优化遇到jdk1.8出现⚠️警告：warning:ignoring option PermSize=512msupport was removed in 8.0/" class="title">tomcat优化遇到jdk1.8出现⚠️警告：warning:ignoring option PermSize=512msupport was removed in 8.0</a></p>
                            <p class="item-date"><time datetime="2016-12-01T09:44:04.000Z" itemprop="datePublished">Dec 1 2016</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/">Blog</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/">Database</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Framework/">Framework</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/">automation</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/monitoring/">monitoring</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tomcat/">tomcat</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/日志分析平台/">日志分析平台</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/测试/">测试</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活/">生活</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/虚拟化/">虚拟化</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/运维安全/">运维安全</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/运维笔记/">运维笔记</a><span class="category-list-count">5</span></li></ul>
        </div>
    </div>

    
        
    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/ACL/" style="font-size: 12px;">ACL</a> <a href="/tags/About-me/" style="font-size: 10px;">About me</a> <a href="/tags/Ansible/" style="font-size: 18px;">Ansible</a> <a href="/tags/CDN/" style="font-size: 10px;">CDN</a> <a href="/tags/Cacti/" style="font-size: 10px;">Cacti</a> <a href="/tags/Centos7-1/" style="font-size: 10px;">Centos7.1</a> <a href="/tags/DNS/" style="font-size: 14px;">DNS</a> <a href="/tags/Exsi/" style="font-size: 10px;">Exsi</a> <a href="/tags/Ghost/" style="font-size: 16px;">Ghost</a> <a href="/tags/Grunt/" style="font-size: 10px;">Grunt</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/IDC监控/" style="font-size: 10px;">IDC监控</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Jenkins/" style="font-size: 12px;">Jenkins</a> <a href="/tags/KVM/" style="font-size: 16px;">KVM</a> <a href="/tags/LAMP/" style="font-size: 12px;">LAMP</a> <a href="/tags/LVM/" style="font-size: 10px;">LVM</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/PHP/" style="font-size: 10px;">PHP</a> <a href="/tags/STF/" style="font-size: 10px;">STF</a> <a href="/tags/Smokeping/" style="font-size: 10px;">Smokeping</a> <a href="/tags/Supervisor/" style="font-size: 10px;">Supervisor</a> <a href="/tags/TOTP/" style="font-size: 10px;">TOTP</a> <a href="/tags/Vmware/" style="font-size: 10px;">Vmware</a> <a href="/tags/Vsftpd/" style="font-size: 12px;">Vsftpd</a> <a href="/tags/centos/" style="font-size: 12px;">centos</a> <a href="/tags/hexo/" style="font-size: 12px;">hexo</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/node-js/" style="font-size: 14px;">node.js</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/pm2/" style="font-size: 10px;">pm2</a> <a href="/tags/tomcat/" style="font-size: 10px;">tomcat</a> <a href="/tags/wkhtmltox/" style="font-size: 10px;">wkhtmltox</a> <a href="/tags/zabbix/" style="font-size: 20px;">zabbix</a> <a href="/tags/zimbra/" style="font-size: 10px;">zimbra</a> <a href="/tags/zookeeper/" style="font-size: 10px;">zookeeper</a> <a href="/tags/旅行日记/" style="font-size: 10px;">旅行日记</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="https://www.unixhot.com/">运维社区</a>
                    </li>
                
                    <li>
                        <a href="http://elasticsearch.cn/topic/">elk技术论坛</a>
                    </li>
                
                    <li>
                        <a href="http://openskill.cn/">开源技术社区</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2017 yangc<br>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_config = function () {
        
        this.page.identifier = 'undefined';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'blog-yangcvo-me' + '.disqus.com/count.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>



    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>