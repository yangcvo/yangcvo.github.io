<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset="utf-8">
    
    <title>zimbra邮件系统的环境部署 | Cheng yang&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="zimbra本实验以CENTOS6.6 64位为例. 最小化安装外加开发包
1.关闭防火墙/etc/init.d/iptables stop
这里说下如果没有关闭防火墙，一定要写规则增加iptables内容如下:
# enable zimbra ports-A INPUT -m state --state NEW -m tcp -p tcp --dport 25 -j ACCEPT-A INPUT">
<meta property="og:type" content="article">
<meta property="og:title" content="zimbra邮件系统的环境部署">
<meta property="og:url" content="http://blog.yangcvo.me/2014/11/24/Zimbra/zimbra邮件系统的环境部署/index.html">
<meta property="og:site_name" content="Cheng yang's Blog">
<meta property="og:description" content="zimbra本实验以CENTOS6.6 64位为例. 最小化安装外加开发包
1.关闭防火墙/etc/init.d/iptables stop
这里说下如果没有关闭防火墙，一定要写规则增加iptables内容如下:
# enable zimbra ports-A INPUT -m state --state NEW -m tcp -p tcp --dport 25 -j ACCEPT-A INPUT">
<meta property="og:updated_time" content="2016-12-17T13:02:45.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zimbra邮件系统的环境部署">
<meta name="twitter:description" content="zimbra本实验以CENTOS6.6 64位为例. 最小化安装外加开发包
1.关闭防火墙/etc/init.d/iptables stop
这里说下如果没有关闭防火墙，一定要写规则增加iptables内容如下:
# enable zimbra ports-A INPUT -m state --state NEW -m tcp -p tcp --dport 25 -j ACCEPT-A INPUT">
    

    
        <link rel="alternate" href="/" title="Cheng yang&#39;s Blog" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">Cheng yang&#39;s Blog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="https://github.com/yangcvo">GitHub</a>
                
                    <a class="main-nav-link" href="http://weibo.com/yangcvo">Weibo</a>
                
                    <a class="main-nav-link" href="http://blog.yangcvo.me/2014/05/04/%E4%B8%AA%E4%BA%BA%E8%AE%B0%E5%BD%95/About-me/">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/yangc.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="https://github.com/yangcvo">GitHub</a></td>
                
                    <td><a class="main-nav-link" href="http://weibo.com/yangcvo">Weibo</a></td>
                
                    <td><a class="main-nav-link" href="http://blog.yangcvo.me/2014/05/04/%E4%B8%AA%E4%BA%BA%E8%AE%B0%E5%BD%95/About-me/">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/yangc.png" />
            <h2 id="name">yangc</h2>
            <h3 id="title">Operation Engineer</h3>
            <span id="location"><i class="fa fa-map-marker"></i>hangzhou, China</span>
            <a id="follow" target="_blank" href="https://github.com/yangcvo/">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                98
                <span>posts</span>
            </div>
            <div class="article-info-block">
                35
                <span>tags</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/yangcvo" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://twitter.com/yangaov" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.facebook.com/yango88" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="dribbble" class=tooltip>
                            <i class="fa fa-dribbble"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-Zimbra/zimbra邮件系统的环境部署" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            zimbra邮件系统的环境部署
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2014/11/24/Zimbra/zimbra邮件系统的环境部署/">
            <time datetime="2014-11-24T10:13:30.000Z" itemprop="datePublished">Nov 24 2014</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Linux/">Linux</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/zimbra/">zimbra</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h2 id="zimbra"><a href="#zimbra" class="headerlink" title="zimbra"></a>zimbra</h2><p>本实验以CENTOS6.6 64位为例. 最小化安装外加开发包</p>
<h3 id="1-关闭防火墙"><a href="#1-关闭防火墙" class="headerlink" title="1.关闭防火墙"></a>1.关闭防火墙</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/etc/init.d/iptables stop</span><br></pre></td></tr></table></figure>
<p>这里说下如果没有关闭防火墙，一定要写规则增加<code>iptables</code>内容如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># enable zimbra ports</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 25 -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 110 -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 389 -j ACCEPT -s 10.10.10.0/24</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 443 -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 465 -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 993 -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 995 -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 5222 -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 7071 -j ACCEPT -s 10.10.10.0/24</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 873 -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 7110 -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 7780 -j ACCEPT</span><br></pre></td></tr></table></figure>
<h3 id="3-修改主机名"><a href="#3-修改主机名" class="headerlink" title="3.修改主机名"></a>3.修改<code>主机名</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/sysconfig/network</span><br><span class="line">hostname=mail.benet.com</span><br></pre></td></tr></table></figure>
<h3 id="4-修改-etc-hosts文件"><a href="#4-修改-etc-hosts文件" class="headerlink" title="4.修改/etc/hosts文件"></a>4.修改<code>/etc/hosts</code>文件</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi/etc/hosts</span><br><span class="line">192.168.1.230 mail.benet.com mail</span><br></pre></td></tr></table></figure>
<h3 id="5-停止系统默认邮件服务"><a href="#5-停止系统默认邮件服务" class="headerlink" title="5.停止系统默认邮件服务"></a>5.停止系统默认邮件服务</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chkconfig postfix off</span><br><span class="line">/etc/init.d/postfix stop</span><br></pre></td></tr></table></figure>
<p>这里yum安装依赖库</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum -y install libidn11 curl fetchmail libpcre3 libgmp3c2 libxml2 libstdc++6 openssl perl sysstat libtool-ltdl compat-libstdc* nc file yum -y update</span><br></pre></td></tr></table></figure>
<p>安装依赖组件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install sysstat</span><br></pre></td></tr></table></figure>
<h3 id="6-关闭SELINUX"><a href="#6-关闭SELINUX" class="headerlink" title="6.关闭SELINUX"></a>6.关闭SELINUX</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"> sed -i <span class="string">'s/^SELINUX=.*/#&amp;/;s/^SELINUXTYPE=.*/#&amp;/;/SELINUX=.*/a SELINUX=disabled'</span> /etc/sysconfig/selinux</span><br><span class="line"> </span><br><span class="line">上面SELINUX需要重启才能生效。</span><br><span class="line"></span><br><span class="line">下面的命令实现临时关闭SELinux</span><br><span class="line">/usr/sbin/setenforce 0</span><br><span class="line">/usr/sbin/setenforce: SELinux is disabled</span><br></pre></td></tr></table></figure>
<p>由于zimbra严重依赖DNS  所以本实验安装一个DNS服务器为zimbar提供服务</p>
<p>bind-9.8.6-P1  安装的这个版本</p>
<p>从这里下载:<a href="https://www.isc.org/downloads/" target="_blank" rel="external">https://www.isc.org/downloads/</a></p>
<p>我这里有编译安装和yum源安装</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum install bind*</span><br></pre></td></tr></table></figure>
<p>安装过程中会有几个要求输入的地方，都输入y。这里安装的最新版为9.8.2。<br>安装<code>bind</code>，给<code>zimbra</code>提供解析，注意，这个步骤很重要，因为<code>zimbra</code>严重依赖DNS，内部用自己解析，不知道的都转发到公网。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install <span class="built_in">bind</span>* -y</span><br></pre></td></tr></table></figure>
<p>编辑<code>named.conf</code>文件</p>
<p>vim /var/named/chroot/etc/named/named.conf</p>
<p>内容如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">options &#123;</span><br><span class="line">        directory       &quot;/var/named&quot;;</span><br><span class="line">       forwarders &#123; 202.96.134.133; 202.96.128.166; &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">zone &quot;lxb.com&quot; IN &#123;</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;lxb.com.zone&quot;;</span><br><span class="line">        allow-update &#123; none; &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">zone &quot;0.168.192.in-addr.arpa&quot; IN &#123;</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;192.168.0.arpa&quot;;</span><br><span class="line">        allow-update &#123; none; &#125;;</span><br><span class="line">   &#125;;</span><br></pre></td></tr></table></figure>
<p>配置文件正确性检查，没有任何提示就表示正确</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">named-checkconf /var/named/chroot/etc/named/named.conf</span><br></pre></td></tr></table></figure>
<p>创建正向解析文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /var/named/chroot/var/named/lxb.com.zone</span><br></pre></td></tr></table></figure>
<p>内容如下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$TTL</span>    86400</span><br><span class="line">@       IN      SOA     lxb.com.        root.lxb.com. (</span><br><span class="line">        20110308</span><br><span class="line">        3H              ; refresh</span><br><span class="line">        15M             ; retry</span><br><span class="line">        1W              ; expiry</span><br><span class="line">        1D )            ; minimum</span><br><span class="line">@       IN      NS      lxb.com.</span><br><span class="line">        IN      A       192.168.0.1</span><br><span class="line">        IN      MX      10      mail.lxb.com.</span><br><span class="line">mail    IN      A       192.168.0.1</span><br><span class="line">*       IN      A       192.168.0.1</span><br></pre></td></tr></table></figure>
<p>创建反向解析文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /var/named/chroot/var/named/192.168.0.arpa</span><br></pre></td></tr></table></figure>
<p>内容如下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$TTL</span>    86400</span><br><span class="line">@       IN      SOA     lxb.com.        root.lxb.com. (</span><br><span class="line">        20110308</span><br><span class="line">        3H              ; refresh</span><br><span class="line">        15M             ; retry</span><br><span class="line">        1W              ; expiry</span><br><span class="line">        1D )            ; minimum</span><br><span class="line">        IN      NS      lxb.com.</span><br><span class="line">        IN      A       192.168.0.1</span><br><span class="line">        IN      MX      10      mail.lxb.com.</span><br><span class="line">1       IN      PTR     mail.lxb.com.</span><br></pre></td></tr></table></figure>
<p>解析文件正确性检查，出现OK提示就表示正确</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">named-checkzone lxb.com /var/named/chroot/var/named/lxb.com.zone</span><br><span class="line">named-checkzone lxb.com /var/named/chroot/var/named/192.168.0.arpa</span><br></pre></td></tr></table></figure>
<p>把原来的配置文件改名，应用刚才创建的配置文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv /etc/named.conf named.conf.bak</span><br><span class="line">ln <span class="_">-s</span> /var/named/chroot/etc/named/named.conf /etc/</span><br><span class="line">service named start</span><br><span class="line">chkconfig named on</span><br></pre></td></tr></table></figure>
<p>解析测试：</p>
<p>3、若其他计算机设置该DNS地址后却无法解析，需修改iptabls规则，将tcp和udp的53端口开放。</p>
<p>vi /etc/sysconfig/iptables，在其中加入：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 53 -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m udp -p udp --dport 53 -j ACCEPT</span><br></pre></td></tr></table></figure>
<p>修改完成后，重启iptables：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#service iptables restart</span><br></pre></td></tr></table></figure>
<h3 id="8、解压安装文件"><a href="#8、解压安装文件" class="headerlink" title="8、解压安装文件"></a>8、解压安装文件</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@zcs soft]# tar -xzvf /mnt/nfs/zcs-8.0.2_GA_5569.RHEL6_64.20121210115059.tgz </span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/packages/</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/packages/zimbra-apache-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/packages/zimbra-core-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/packages/zimbra-ldap-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/packages/zimbra-logger-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/packages/zimbra-memcached-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/packages/zimbra-mta-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/packages/zimbra-proxy-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/packages/zimbra-snmp-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/packages/zimbra-spell-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/packages/zimbra-store-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/bin/</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/bin/get_plat_tag.sh</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/bin/zmdbintegrityreport</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/data/</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/data/versions-init.sql</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/YPL.txt</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/zcl.txt</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/zimbra_public_eula_2.1.txt</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/oracle_jdk_eula.txt</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/admin.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/Fedora Server Config.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/Import_Wizard_Outlook.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/Migration_Exch_Admin.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/Migration_Exch_User.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/MigrationWizard_Domino.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/MigrationWizard.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/OSmultiserverinstall.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/quick_start.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/RNZCSO_2005Beta.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/User Instructions for ZCS Import Wizard.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/Zimbra iCalendar Migration Guide.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/Zimbra_Release_Note.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/Zimbra Schema.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/docs/en_US/zimbra_user_guide.pdf</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/util/</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/util/modules/</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/util/modules/getconfig.sh</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/util/modules/packages.sh</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/util/modules/postinstall.sh</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/util/addUser.sh</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/util/globals.sh</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/util/utilfunc.sh</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/readme_source_en_US.txt</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/readme_binary_en_US.txt</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/install.sh</span><br><span class="line">zcs-8.0.2_GA_5569.RHEL6_64.20121210115059/README.txt</span><br></pre></td></tr></table></figure>
<h3 id="9、安装"><a href="#9、安装" class="headerlink" title="9、安装"></a>9、安装</h3><p>由于是<code>centos</code>使用<code>redhat</code>安装包，所以安装要添加参数<code>–platform-override</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./install.sh --platform-override</span><br></pre></td></tr></table></figure>
<p>安装过程，主要是<code>“Create domain“</code>改变域名为<code>qzalab.cn</code>；修改管理员密码3-&gt;4-&gt;r-&gt;a；本安装是把所有服务安装在一台服务器上，分布式的安装请参考其他资料。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@zcs zcs-8.0.2_GA_5569.RHEL6_64.20121210115059]<span class="comment"># ./install.sh --platform-override</span></span><br><span class="line"></span><br><span class="line">Operations logged to /tmp/install.log.1317</span><br><span class="line">Checking <span class="keyword">for</span> existing installation...</span><br><span class="line">    zimbra-ldap...NOT FOUND</span><br><span class="line">    zimbra-logger...NOT FOUND</span><br><span class="line">    zimbra-mta...NOT FOUND</span><br><span class="line">    zimbra-snmp...NOT FOUND</span><br><span class="line">    zimbra-store...NOT FOUND</span><br><span class="line">    zimbra-apache...NOT FOUND</span><br><span class="line">    zimbra-spell...NOT FOUND</span><br><span class="line">    zimbra-convertd...NOT FOUND</span><br><span class="line">    zimbra-memcached...NOT FOUND</span><br><span class="line">    zimbra-proxy...NOT FOUND</span><br><span class="line">    zimbra-archiving...NOT FOUND</span><br><span class="line">    zimbra-cluster...NOT FOUND</span><br><span class="line">    zimbra-core...NOT FOUND</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">PLEASE READ THIS AGREEMENT CAREFULLY BEFORE USING THE SOFTWARE.</span><br><span class="line">ZIMBRA, INC. (<span class="string">"ZIMBRA"</span>) WILL ONLY LICENSE THIS SOFTWARE TO YOU IF YOU</span><br><span class="line">FIRST ACCEPT THE TERMS OF THIS AGREEMENT. BY DOWNLOADING OR INSTALLING</span><br><span class="line">THE SOFTWARE, OR USING THE PRODUCT, YOU ARE CONSENTING TO BE BOUND BY</span><br><span class="line">THIS AGREEMENT. IF YOU DO NOT AGREE TO ALL OF THE TERMS OF THIS</span><br><span class="line">AGREEMENT, THEN DO NOT DOWNLOAD, INSTALL OR USE THE PRODUCT.</span><br><span class="line"></span><br><span class="line">License Terms <span class="keyword">for</span> the Zimbra Collaboration Suite:</span><br><span class="line">  http://www.zimbra.com/license/zimbra_public_eula_2.1.html</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Do you agree with the terms of the software license agreement? [N] y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Oracle</span><br><span class="line"></span><br><span class="line">LICENSE 略...</span><br><span class="line"></span><br><span class="line">Last updated May 17, 2011</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Do you agree with the terms of the software license agreement? [N] y</span><br><span class="line"></span><br><span class="line">Checking <span class="keyword">for</span> prerequisites...</span><br><span class="line">    FOUND: NPTL</span><br><span class="line">    FOUND: nc-1.84-22</span><br><span class="line">    FOUND: sudo-1.7.4p5-13</span><br><span class="line">    FOUND: libidn-1.18-2</span><br><span class="line">    FOUND: gmp-4.3.1-7</span><br><span class="line">    FOUND: /usr/lib64/libstdc++.so.6</span><br><span class="line"></span><br><span class="line">Checking <span class="keyword">for</span> suggested prerequisites...</span><br><span class="line">    FOUND: perl-5.10.1</span><br><span class="line">    FOUND: sysstat</span><br><span class="line">    FOUND: sqlite</span><br><span class="line">Prerequisite check complete.</span><br><span class="line"></span><br><span class="line">Checking <span class="keyword">for</span> installable packages</span><br><span class="line"></span><br><span class="line">Found zimbra-core</span><br><span class="line">Found zimbra-ldap</span><br><span class="line">Found zimbra-logger</span><br><span class="line">Found zimbra-mta</span><br><span class="line">Found zimbra-snmp</span><br><span class="line">Found zimbra-store</span><br><span class="line">Found zimbra-apache</span><br><span class="line">Found zimbra-spell</span><br><span class="line">Found zimbra-memcached</span><br><span class="line">Found zimbra-proxy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Select the packages to install</span><br><span class="line"></span><br><span class="line">Install zimbra-ldap [Y]</span><br><span class="line"></span><br><span class="line">Install zimbra-logger [Y]</span><br><span class="line"></span><br><span class="line">Install zimbra-mta [Y]</span><br><span class="line"></span><br><span class="line">Install zimbra-snmp [Y]</span><br><span class="line"></span><br><span class="line">Install zimbra-store [Y]</span><br><span class="line"></span><br><span class="line">Install zimbra-apache [Y]</span><br><span class="line"></span><br><span class="line">Install zimbra-spell [Y]</span><br><span class="line"></span><br><span class="line">Install zimbra-memcached [N] y</span><br><span class="line"></span><br><span class="line">Install zimbra-proxy [N] y</span><br><span class="line">Checking required space <span class="keyword">for</span> zimbra-core</span><br><span class="line">Checking space <span class="keyword">for</span> zimbra-store</span><br><span class="line"></span><br><span class="line">Installing:</span><br><span class="line">    zimbra-core</span><br><span class="line">    zimbra-ldap</span><br><span class="line">    zimbra-logger</span><br><span class="line">    zimbra-mta</span><br><span class="line">    zimbra-snmp</span><br><span class="line">    zimbra-store</span><br><span class="line">    zimbra-apache</span><br><span class="line">    zimbra-spell</span><br><span class="line">    zimbra-memcached</span><br><span class="line">    zimbra-proxy</span><br><span class="line"></span><br><span class="line">You appear to be installing packages on a platform different</span><br><span class="line">than the platform <span class="keyword">for</span> <span class="built_in">which</span> they were built.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">This platform is CentOS6_64</span><br><span class="line">Packages found: RHEL6_64</span><br><span class="line">This may or may not work.</span><br><span class="line"></span><br><span class="line">Using packages <span class="keyword">for</span> a platform <span class="keyword">in</span> <span class="built_in">which</span> they were not designed <span class="keyword">for</span></span><br><span class="line">may result <span class="keyword">in</span> an installation that is NOT usable. Your support</span><br><span class="line">options may be limited <span class="keyword">if</span> you choose to continue.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Install anyway? [N] y</span><br><span class="line"></span><br><span class="line">The system will be modified.  Continue? [N] y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Removing /opt/zimbra</span><br><span class="line">Removing zimbra crontab entry...done.</span><br><span class="line">Cleaning up zimbra init scripts...done.</span><br><span class="line">Cleaning up /etc/ld.so.conf...done.</span><br><span class="line">Cleaning up /etc/security/limits.conf...done.</span><br><span class="line"></span><br><span class="line">Finished removing Zimbra Collaboration Server.</span><br><span class="line"></span><br><span class="line">Installing packages</span><br><span class="line"></span><br><span class="line">    zimbra-core......zimbra-core-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm...done</span><br><span class="line">    zimbra-ldap......zimbra-ldap-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm...done</span><br><span class="line">    zimbra-logger......zimbra-logger-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm...done</span><br><span class="line">    zimbra-mta......zimbra-mta-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm...done</span><br><span class="line">    zimbra-snmp......zimbra-snmp-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm...done</span><br><span class="line">    zimbra-store......zimbra-store-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm...done</span><br><span class="line">    zimbra-apache......zimbra-apache-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm...done</span><br><span class="line">    zimbra-spell......zimbra-spell-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm...done</span><br><span class="line">    zimbra-memcached......zimbra-memcached-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm...done</span><br><span class="line">    zimbra-proxy......zimbra-proxy-8.0.2_GA_5569.RHEL6_64-20121210115059.x86_64.rpm...done</span><br><span class="line">Operations logged to /tmp/zmsetup.01082013-094551.log</span><br><span class="line">Installing LDAP configuration database...done.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Operations logged to /tmp/zmsetup.01082013-094551.log</span><br><span class="line">Installing LDAP configuration database...done.</span><br><span class="line">Setting defaults...</span><br><span class="line">        Interface: 10.10.10.20</span><br><span class="line">        Interface: 127.0.0.1</span><br><span class="line">        Interface: ::1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">DNS ERROR - none of the MX records <span class="keyword">for</span> zcs.qzalab.cn</span><br><span class="line">resolve to this host</span><br><span class="line">Change domain name? [Yes] no</span><br><span class="line">Create domain: [zcs.qzalab.cn] qzalab.cn</span><br><span class="line">        MX: mail.qzalab.cn (10.10.10.20)</span><br><span class="line">        MX: zcs.qzalab.cn (10.10.10.20)</span><br><span class="line"></span><br><span class="line">        Interface: 10.10.10.20</span><br><span class="line">        Interface: 127.0.0.1</span><br><span class="line">        Interface: ::1</span><br><span class="line">done.</span><br><span class="line">Checking <span class="keyword">for</span> port conflicts</span><br><span class="line"></span><br><span class="line">Main menu</span><br><span class="line"></span><br><span class="line">  1) Common Configuration:                                                 </span><br><span class="line">  2) zimbra-ldap:                            Enabled                     </span><br><span class="line">  3) zimbra-store:                            Enabled                     </span><br><span class="line">        +Create Admin User:                    yes                         </span><br><span class="line">        +Admin user to create:                admin@qzalab.cn                 </span><br><span class="line">******* +Admin Password                        UNSET                       </span><br><span class="line">        +Anti-virus quarantine user:          virus-quarantine.lelx1uqjz@qzalab.cn</span><br><span class="line">        +Enable automated spam training:      yes                         </span><br><span class="line">        +Spam training user:                  spam.2letin98@qzalab.cn         </span><br><span class="line">        +Non-spam(Ham) training user:          ham.q94pdr4mo1@qzalab.cn       </span><br><span class="line">        +SMTP host:                            zcs.qzalab.cn                   </span><br><span class="line">        +Web server HTTP port:                80                           </span><br><span class="line">        +Web server HTTPS port:                443                         </span><br><span class="line">        +Web server mode:                      https                       </span><br><span class="line">        +IMAP server port:                    7143                         </span><br><span class="line">        +IMAP server SSL port:                7993                         </span><br><span class="line">        +POP server port:                      7110                         </span><br><span class="line">        +POP server SSL port:                  7995                         </span><br><span class="line">        +Use spell check server:              yes                         </span><br><span class="line">        +Spell server URL:                    http://zcs.qzalab.cn:7780/aspell.php</span><br><span class="line">        +Enable version update checks:        TRUE                         </span><br><span class="line">        +Enable version update notifications:  TRUE                         </span><br><span class="line">        +Version update notification email:    admin@qzalab.cn                 </span><br><span class="line">        +Version update <span class="built_in">source</span> email:          admin@qzalab.cn                 </span><br><span class="line"></span><br><span class="line">  4) zimbra-mta:                              Enabled                     </span><br><span class="line">  5) zimbra-snmp:                            Enabled                     </span><br><span class="line">  6) zimbra-logger:                          Enabled                     </span><br><span class="line">  7) zimbra-spell:                            Enabled                     </span><br><span class="line">  8) zimbra-proxy:                            Enabled                     </span><br><span class="line">  9) Default Class of Service Configuration:                               </span><br><span class="line">  r) Start servers after configuration        yes                         </span><br><span class="line">  s) Save config to file                                                   </span><br><span class="line">  x) Expand menu                                                           </span><br><span class="line">  q) Quit                                   </span><br><span class="line"></span><br><span class="line">Address unconfigured (**) items  (? - <span class="built_in">help</span>) 3</span><br><span class="line"></span><br><span class="line"><span class="comment">#这里输入3，修改密码的管理员密码</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Store configuration</span><br><span class="line"></span><br><span class="line">  1) Status:                                  Enabled                     </span><br><span class="line">  2) Create Admin User:                      yes                         </span><br><span class="line">  3) Admin user to create:                    admin@qzalab.cn                 </span><br><span class="line">** 4) Admin Password                          UNSET                       </span><br><span class="line">  5) Anti-virus quarantine user:              virus-quarantine.lelx1uqjz@qzalab.cn</span><br><span class="line">  6) Enable automated spam training:          yes                         </span><br><span class="line">  7) Spam training user:                      spam.2letin98@qzalab.cn         </span><br><span class="line">  8) Non-spam(Ham) training user:            ham.q94pdr4mo1@qzalab.cn       </span><br><span class="line">  9) SMTP host:                              zcs.qzalab.cn                   </span><br><span class="line">  10) Web server HTTP port:                    80                           </span><br><span class="line">  11) Web server HTTPS port:                  443                         </span><br><span class="line">  12) Web server mode:                        https                       </span><br><span class="line">  13) IMAP server port:                        7143                         </span><br><span class="line">  14) IMAP server SSL port:                    7993                         </span><br><span class="line">  15) POP server port:                        7110                         </span><br><span class="line">  16) POP server SSL port:                    7995                         </span><br><span class="line">  17) Use spell check server:                  yes                         </span><br><span class="line">  18) Spell server URL:                        http://zcs.qzalab.cn:7780/aspell.php</span><br><span class="line">  19) Enable version update checks:            TRUE                         </span><br><span class="line">  20) Enable version update notifications:    TRUE                         </span><br><span class="line">  21) Version update notification email:      admin@qzalab.cn                 </span><br><span class="line">  22) Version update <span class="built_in">source</span> email:            admin@qzalab.cn                 </span><br><span class="line"></span><br><span class="line">Select, or <span class="string">'r'</span> <span class="keyword">for</span> previous menu [r] 4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#再输入 4，修改密码的管理员密码</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Password <span class="keyword">for</span> admin@qzalab.cn (min 6 characters): [220BynXaRx] <span class="comment">#管理员密码 benet1006 gosum.com</span></span><br><span class="line"></span><br><span class="line">Store configuration</span><br><span class="line"></span><br><span class="line">  1) Status:                                  Enabled                     </span><br><span class="line">  2) Create Admin User:                      yes                         </span><br><span class="line">  3) Admin user to create:                    admin@qzalab.cn                 </span><br><span class="line">  4) Admin Password                          <span class="built_in">set</span>                         </span><br><span class="line">  5) Anti-virus quarantine user:              virus-quarantine.lelx1uqjz@qzalab.cn</span><br><span class="line">  6) Enable automated spam training:          yes                         </span><br><span class="line">  7) Spam training user:                      spam.2letin98@qzalab.cn         </span><br><span class="line">  8) Non-spam(Ham) training user:            ham.q94pdr4mo1@qzalab.cn       </span><br><span class="line">  9) SMTP host:                              zcs.qzalab.cn                   </span><br><span class="line">  10) Web server HTTP port:                    80                           </span><br><span class="line">  11) Web server HTTPS port:                  443                         </span><br><span class="line">  12) Web server mode:                        https                       </span><br><span class="line">  13) IMAP server port:                        7143                         </span><br><span class="line">  14) IMAP server SSL port:                    7993                         </span><br><span class="line">  15) POP server port:                        7110                         </span><br><span class="line">  16) POP server SSL port:                    7995                         </span><br><span class="line">  17) Use spell check server:                  yes                         </span><br><span class="line">  18) Spell server URL:                        http://zcs.qzalab.cn:7780/aspell.php</span><br><span class="line">  19) Enable version update checks:            TRUE                         </span><br><span class="line">  20) Enable version update notifications:    TRUE                         </span><br><span class="line">  21) Version update notification email:      admin@qzalab.cn                 </span><br><span class="line">  22) Version update <span class="built_in">source</span> email:            admin@qzalab.cn                 </span><br><span class="line"></span><br><span class="line">Select, or <span class="string">'r'</span> <span class="keyword">for</span> previous menu [r] r</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#按回车，返回上级菜单</span></span><br><span class="line"></span><br><span class="line">Main menu</span><br><span class="line"></span><br><span class="line">  1) Common Configuration:                                                 </span><br><span class="line">  2) zimbra-ldap:                            Enabled                     </span><br><span class="line">  3) zimbra-store:                            Enabled                     </span><br><span class="line">  4) zimbra-mta:                              Enabled                     </span><br><span class="line">  5) zimbra-snmp:                            Enabled                     </span><br><span class="line">  6) zimbra-logger:                          Enabled                     </span><br><span class="line">  7) zimbra-spell:                            Enabled                     </span><br><span class="line">  8) zimbra-proxy:                            Enabled                     </span><br><span class="line">  9) Default Class of Service Configuration:                               </span><br><span class="line">  r) Start servers after configuration        yes                         </span><br><span class="line">  s) Save config to file                                                   </span><br><span class="line">  x) Expand menu                                                           </span><br><span class="line">  q) Quit                                   </span><br><span class="line"></span><br><span class="line">*** CONFIGURATION COMPLETE - press <span class="string">'a'</span> to apply</span><br><span class="line">Select from menu, or press <span class="string">'a'</span> to apply config (? - <span class="built_in">help</span>) a</span><br><span class="line"></span><br><span class="line"><span class="comment">#输入a,应用</span></span><br><span class="line"></span><br><span class="line">Save configuration data to a file? [Yes]</span><br><span class="line"></span><br><span class="line"><span class="comment">#回车</span></span><br><span class="line"></span><br><span class="line">Save config <span class="keyword">in</span> file: [/opt/zimbra/config.9262]</span><br><span class="line"></span><br><span class="line"><span class="comment">#回车</span></span><br><span class="line"></span><br><span class="line">Saving config <span class="keyword">in</span> /opt/zimbra/config.9262...done.</span><br><span class="line">The system will be modified - <span class="built_in">continue</span>? [No] yes</span><br><span class="line"></span><br><span class="line"><span class="comment">#输入yes</span></span><br><span class="line"></span><br><span class="line">Operations logged to /tmp/zmsetup.01082013-094551.log</span><br><span class="line">Setting <span class="built_in">local</span> config values...done.</span><br><span class="line">Initializing core config...Setting up CA...done.</span><br><span class="line">Deploying CA to /opt/zimbra/conf/ca ...done.</span><br><span class="line">Creating SSL zimbra-store certificate...done.</span><br><span class="line">Creating new zimbra-ldap SSL certificate...done.</span><br><span class="line">Creating new zimbra-mta SSL certificate...done.</span><br><span class="line">Creating new zimbra-proxy SSL certificate...done.</span><br><span class="line">Installing mailboxd SSL certificates...done.</span><br><span class="line">Installing MTA SSL certificates...done.</span><br><span class="line">Installing LDAP SSL certificate...done.</span><br><span class="line">Installing Proxy SSL certificate...done.</span><br><span class="line">Initializing ldap...done.</span><br><span class="line">Setting replication password...done.</span><br><span class="line">Setting Postfix password...done.</span><br><span class="line">Setting amavis password...done.</span><br><span class="line">Setting nginx password...done.</span><br><span class="line">Creating server entry <span class="keyword">for</span> zcs.qzalab.cn...done.</span><br><span class="line">Setting Zimbra IP Mode...done.</span><br><span class="line">Saving CA <span class="keyword">in</span> ldap ...done.</span><br><span class="line">Saving SSL Certificate <span class="keyword">in</span> ldap ...done.</span><br><span class="line">Setting spell check URL...done.</span><br><span class="line">Setting service ports on zcs.qzalab.cn...done.</span><br><span class="line">Adding zcs.qzalab.cn to zimbraMailHostPool <span class="keyword">in</span> default COS...done.</span><br><span class="line">Setting zimbraFeatureTasksEnabled=TRUE...done.</span><br><span class="line">Setting zimbraFeatureBriefcasesEnabled=FALSE...done.</span><br><span class="line">Setting MTA auth host...done.</span><br><span class="line">Setting TimeZone Preference...done.</span><br><span class="line">Initializing mta config...done.</span><br><span class="line">Setting services on zcs.qzalab.cn...done.</span><br><span class="line">Creating domain qzalab.cn...done.</span><br><span class="line">Setting default domain name...done.</span><br><span class="line">Creating domain qzalab.cn...already exists.</span><br><span class="line">Creating admin account admin@qzalab.cn...done.</span><br><span class="line">Creating root alias...done.</span><br><span class="line">Creating postmaster alias...done.</span><br><span class="line">Creating user spam.2letin98@qzalab.cn...done.</span><br><span class="line">Creating user ham.q94pdr4mo1@qzalab.cn...done.</span><br><span class="line">Creating user virus-quarantine.lelx1uqjz@qzalab.cn...done.</span><br><span class="line">Setting spam training and Anti-virus quarantine accounts...done.</span><br><span class="line">Initializing store sql database...done.</span><br><span class="line">Setting zimbraSmtpHostname <span class="keyword">for</span> zcs.qzalab.cn...done.</span><br><span class="line">Configuring SNMP...done.</span><br><span class="line">Setting up syslog.conf...done.</span><br><span class="line">Starting servers...done.</span><br><span class="line">Installing common zimlets...</span><br><span class="line">        com_zimbra_clientuploader...done.</span><br><span class="line">        com_zimbra_tooltip...done.</span><br><span class="line">        com_zimbra_viewmail...done.</span><br><span class="line">        com_zimbra_srchhighlighter...done.</span><br><span class="line">        com_zimbra_adminversioncheck...done.</span><br><span class="line">        com_zimbra_proxy_config...done.</span><br><span class="line">        com_zimbra_email...done.</span><br><span class="line">        com_zimbra_date...done.</span><br><span class="line">        com_zimbra_webex...done.</span><br><span class="line">        com_zimbra_ymemoticons...done.</span><br><span class="line">        com_zimbra_phone...done.</span><br><span class="line">        com_zimbra_cert_manager...done.</span><br><span class="line">        com_zimbra_attachcontacts...done.</span><br><span class="line">        com_zimbra_attachmail...done.</span><br><span class="line">        com_zimbra_bulkprovision...done.</span><br><span class="line">        com_zimbra_url...done.</span><br><span class="line">Finished installing common zimlets.</span><br><span class="line">Restarting mailboxd...done.</span><br><span class="line">Creating galsync account <span class="keyword">for</span> default domain...done.</span><br><span class="line"></span><br><span class="line">You have the option of notifying Zimbra of your installation.</span><br><span class="line">This helps us to track the uptake of the Zimbra Collaboration Server.</span><br><span class="line">The only information that will be transmitted is:</span><br><span class="line">        The VERSION of zcs installed (8.0.2_GA_5569_CentOS6_64)</span><br><span class="line">        The ADMIN EMAIL ADDRESS created (admin@qzalab.cn)</span><br><span class="line"></span><br><span class="line">Notify Zimbra of your installation? [Yes] y</span><br><span class="line">Notifying Zimbra of installation via http://www.zimbra.com/cgi-bin/notify.cgi?VER=8.0.2_GA_5569_CentOS6_64&amp;MAIL=admin@qzalab.cn</span><br><span class="line"></span><br><span class="line">ERROR: Notification failed</span><br><span class="line">Setting up zimbra crontab...done.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Moving /tmp/zmsetup.01082013-094551.log to /opt/zimbra/<span class="built_in">log</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Configuration complete - press <span class="built_in">return</span> to <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>
<h3 id="10、重启一下zimbra"><a href="#10、重启一下zimbra" class="headerlink" title="10、重启一下zimbra"></a>10、重启一下zimbra</h3><p>我习惯安装完成之后，重新启动一下zimbra。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">su - zimbra</span><br><span class="line">zmcontrol stop</span><br><span class="line">zmcontrol start</span><br></pre></td></tr></table></figure>
<h3 id="11、http-zcs-qzalab-cn访问"><a href="#11、http-zcs-qzalab-cn访问" class="headerlink" title="11、http://zcs.qzalab.cn访问"></a>11、<a href="http://zcs.qzalab.cn访问" target="_blank" rel="external">http://zcs.qzalab.cn访问</a></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http://zcs.qzalab.cn访问了</span><br><span class="line">管理https://zcs.qzulab.cn:7071</span><br></pre></td></tr></table></figure>
<h3 id="zimbra-邮件服务器管理"><a href="#zimbra-邮件服务器管理" class="headerlink" title="zimbra 邮件服务器管理"></a>zimbra 邮件服务器管理</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">添加管理员账号：zmprov ca  testadmin@test.com  password  zimbraIsAdminAccount TRUE</span><br><span class="line">升级现有账号为管理员： zmprov ma test@test.com zimbraIsAdminAccount  TRUE</span><br><span class="line">添加普通账号：zmprov ca test@test.com password</span><br><span class="line">删除普通账号：zmprov da test@test.com</span><br><span class="line">重设密码： zmprov sp test@test.com pawwsord</span><br><span class="line">查询mysql密码：zmlocalconfig -s  |grep pass |grep mysql</span><br><span class="line">查询邮箱使用情况：zmprov gqu  mail.test.com</span><br><span class="line">查询指定邮箱详细信息：zmprov gmi test@test.com</span><br><span class="line">查看最大系统邮件大小： postconf message_size_limit</span><br><span class="line">修改最大附件大小：zmprov modifyConfig zimbraMtaMaxMessageSize 2048000</span><br><span class="line">                                    postfix reload</span><br><span class="line">zimbra命令行方式常用的操作</span><br><span class="line">将HTTP登陆方式更改为HTTPHTTPS登陆方式</span><br><span class="line">$ zmprov ms zimbraMailSSLPort （将HTTPS更改成非443端口）</span><br><span class="line">$ zmtlsctl httphttps</span><br><span class="line">$ tomcat restart</span><br><span class="line">smtp认证错误的解决</span><br><span class="line">zmprov ms `zmhostname` zimbraMtaAuthHost mail.example.com</span><br><span class="line">日志服务器错误的解决</span><br><span class="line">$ zmprov getConfig zimbraLogHostname</span><br><span class="line">$ zmprov modifyConfig zimbraLogHostname mail.domain.com</span><br><span class="line">查看系统参数</span><br><span class="line">可以通过zmlocalconfig -s命令查看系统的参数</span><br><span class="line">$ postconf //查看postfix的所有配置</span><br><span class="line">$ zmlocalconfig //查看各种组件的配置信息</span><br><span class="line">$ zmlocalconfig -s|grep zimbra_ldap_userdn　　　　　　 //查看zimbra帐号在LDAP中的DN</span><br><span class="line">$ zmlocalconfig -s|grep zimbra_ldap_userdn //查看zimbra帐号在LDAP中的密码</span><br><span class="line">$ zmlocalconfig -s|grep zimbra_mysql //查看mysql的配置信息</span><br><span class="line">更改系统最大邮件大小：</span><br><span class="line">查看最大系统邮件大小，显示当前系统最大邮件为10M。</span><br><span class="line">$ postconf message_size_limit</span><br><span class="line">message_size_limit = 10240000</span><br><span class="line">将系统最大邮件大小更改为20M。</span><br><span class="line">$ zmprov modifyConfig zimbraMtaMaxMessageSize 2048000</span><br><span class="line">$ postfix reload</span><br><span class="line">更改系统最大附件大小：</span><br><span class="line">将系统中所有帐户允许最大的附件更改为5M</span><br><span class="line">$ zmprov modifyConfig zimbraFileUploadMaxSize 5000000</span><br><span class="line">将系统中mail2.domain.com帐户允许最大的附件更改为20M</span><br><span class="line">$ zmprov modifyServer mail2.domain.com zimbraFileUploadMaxSize 20000000</span><br><span class="line">更改管理员密码：</span><br><span class="line">$ zmprov gaaa　　　　　　　　　　　　　　　　　　　　//列出所有管理员</span><br><span class="line">$ zmprov sp //更改管理员密码</span><br><span class="line">例如：zmprov sp admin q1w2e3r4 或 zmprov sp admin@wish.com q12e3r4</span><br><span class="line">更改LDAP密码：</span><br><span class="line">$ ldap status(start)</span><br><span class="line">$ zmldappasswd –root newpass （root）</span><br><span class="line">$ zmldappasswd newpass (zimbra)</span><br><span class="line">更改MYSQL Database密码：</span><br><span class="line">$ mysql.server status(start)</span><br><span class="line">$ zmmypasswd –root newrootpass</span><br><span class="line">$ zmmypasswd newpass</span><br><span class="line">更改Logger MYSQL Database密码：</span><br><span class="line">$ logmysql.server status(start)</span><br><span class="line">$ zmmylogpasswd –root newrootpass (root）</span><br><span class="line">$ zmmylogpasswd newpass (zimbra)</span><br><span class="line">清空邮箱</span><br><span class="line">$ zmmailbox -z -m rootking@wish.net emptyFolder /[inbox][chats][sent][drafts][junk][trash]</span><br><span class="line">inbox(收件箱) chats(聊天) snet(已发送邮件) drafts(草稿箱) junk(垃圾邮件) trash(已删除邮件)</span><br><span class="line">备份还原LDAP</span><br><span class="line">1、备份LDAP(两个命令是相等的)</span><br><span class="line">1)、ldapsearch -h 服务器对外的地址 -x -D “uid=zimbra,cn=admins,cn=zimbra” -w 密码 objectclass=* &gt; 201014.ldif</span><br><span class="line">2)、ldapsearch -h 服务器对外的地址 -x -D “uid=zimbra,cn=admins,cn=zimbra” -w 密码 &gt; 201014.ldif</span><br><span class="line">2、还原LDAP</span><br><span class="line">ldapadd -h 服务器对外的地址 -x -c -D “uid=zimbra,cn=admins,cn=zimbra” -w 密码 &lt; 20101214.ldif</span><br><span class="line">导出导入用户的邮件</span><br><span class="line">#!/bin/bash</span><br><span class="line">while read USER</span><br><span class="line">do</span><br><span class="line">TODAY=`date`</span><br><span class="line">LOGFILE=”/tmp/bak/backuplog.txt”</span><br><span class="line">echo $TODAY &gt;&gt; $LOGFILE</span><br><span class="line">echo $USER &gt;&gt; $LOGFILE</span><br><span class="line">/opt/zimbra/bin/zmmailbox -z -m $USER gms &gt;&gt; $LOGFILE</span><br><span class="line">zmmailbox -z -m $USER@test.com getRestURL “//?fmt=tgz” &gt; /tmp/bak/$USER.tgz</span><br><span class="line">done &lt; /tmp/user.txt</span><br><span class="line">PS:user.txt里是用户名，不需要跟域名</span><br><span class="line">恢复用户的邮件</span><br><span class="line">zmmailbox -z -m $USER@test.com postRestURL “//?fmt=tgz&amp;resolve=reset” tmp/bak/$USER.tgz</span><br><span class="line">Zimbra之黑名单、白名单</span><br><span class="line">由于zimbra采用ClamAV 做防病毒软件和SpamAssassin 做反垃圾邮件过滤器，但在WEB控制台中ClamAV+SpamAssassin只有6个调节选项。所以如果要想详细的调节防病毒、反垃圾邮件的功能只有更改相应的配置文件了。</span><br><span class="line">例如调节SpamAssassin的配置文件实现黑名单、白名单的功能。</span><br><span class="line">编辑/opt/zimbra/conf/amavisd.conf.in</span><br><span class="line">寻找下列段落，然后加上你要信任的域：</span><br><span class="line">&#123; # a hash-type lookup table (associative array)</span><br><span class="line">‘nobody@cert.org’ =&gt; -3.0,</span><br><span class="line">‘cert-advisory@us-cert.gov’ =&gt; -3.0,</span><br><span class="line">‘owner-alert@iss.net’ =&gt; -3.0,</span><br><span class="line">‘slashdot@slashdot.org’ =&gt; -3.0,</span><br><span class="line">‘bugtraq@securityfocus.com’ =&gt; -3.0,</span><br><span class="line">‘ntbugtraq@listserv.ntbugtraq.com’ =&gt; -3.0,</span><br><span class="line">‘security-alerts@linuxsecurity.com’ =&gt; -3.0,</span><br><span class="line">-10就是无条件信任了，相反+10就是无条件阻挡了。然后存盘，</span><br><span class="line">$ su zimbra</span><br><span class="line">$ zmamavisdctl stop</span><br><span class="line">$ zmamavisdctl start</span><br></pre></td></tr></table></figure>
<h3 id="Zimbra在linux系统上的删除-卸载-方法"><a href="#Zimbra在linux系统上的删除-卸载-方法" class="headerlink" title="Zimbra在linux系统上的删除(卸载)方法"></a>Zimbra在linux系统上的删除(卸载)方法</h3><p>登陆root用户<br>1执行以下面的命令，su切换 到zimbra用户，停止zmcontrol服务，然后再退出zimbra帐户</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">su – zimbra</span><br><span class="line">zmcontrol stop</span><br><span class="line">exit</span><br><span class="line">(you should be root after you run exit)</span><br></pre></td></tr></table></figure>
<p>2执行下面的命令，查看系统中是否还有zimbra进程</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ps -ef | grep -i zimbra</span><br></pre></td></tr></table></figure>
<p>如果看到还有zimbra进程，就用下面的命令，kill掉进程</p>
<p>2 用kill -9强制杀死进程:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kill -9 &lt;zimbra的进程号&gt;</span><br></pre></td></tr></table></figure>
<p>3执行以下命令:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure>
<p>如果你能看到 “amavisd”</p>
<p>3 那就执行以下命令:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">umount /opt/zimbra/amavisd&lt;-new-blah&gt;/tmp</span><br></pre></td></tr></table></figure>
<p>4进入你安装时解压出来的源文件目录（即安装文件目录）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd /&lt;tmp_tar_install_dir&gt;/zcs/</span><br></pre></td></tr></table></figure>
<p>tmp_tar_install_dir：你的文件路径，如我所下载来的安装包，都是放在/usr/local/src下面的，然后把安装包改名成zcs，这个你应该明白吧？不明白？可联系我</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd /usr/local/src/zcs/</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@linuxyw zcs]# ls</span><br><span class="line">README.txt data install.sh readme_binary_en_US.txt util</span><br><span class="line">bin docs packages readme_source_en_US.txt</span><br><span class="line">[root@linuxyw zcs]# pwd</span><br><span class="line">/usr/local/src/zcs</span><br></pre></td></tr></table></figure>
<p>5)执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./install.sh -u</span><br></pre></td></tr></table></figure>
<p>6)执行以下的命令完成卸载</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rm -rf /opt/zimbra</span><br><span class="line">rm -rf /var/log/*zimbra*</span><br><span class="line">rm -rf /tmp/*zimbra*</span><br><span class="line">rm -rf /tmp/hsperfdata*</span><br><span class="line">rm -rf /tmp/install.*</span><br><span class="line">rm -rf /tmp/*swatch*</span><br><span class="line">rm -rf /tmp/log*</span><br></pre></td></tr></table></figure>
<p>进以下面的目录中，查看下，确保所有用户拥用者zimbra的文件全部删除</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/var/log/</span><br><span class="line">/tmp/</span><br></pre></td></tr></table></figure>
<p>7)执行以下命令，删除zimbra用户和组:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">userdel zimbra</span><br><span class="line">userdel postfix</span><br><span class="line">groupdel zimbra</span><br><span class="line">groupdel postfix</span><br></pre></td></tr></table></figure>
<p>8）在 /etc/fstab中删除这行内容（如果没有这行就跳过吧）：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/dev/shm /opt/zimbra/amavisd-new-2.4.1/tmp tmpfs defaults,users,size=150m,mode=777 0 0</span><br></pre></td></tr></table></figure>
<p>9) 在/etc/syslog.conf中删除以下几行，一般在文件最后的位置（如果你是用centos6.x系统，文件名应该/etc/rsyslog.conf</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">local0.* -/var/log/zimbra.log</span><br><span class="line">      auth.* -/var/log/zimbra.log</span><br><span class="line">      mail.* -/var/log/zimbra.log</span><br></pre></td></tr></table></figure>
<p>10) 执行以下命令，删除日志配置文件(CentOS, RHEL)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rm -f /etc/logrotate.d/zimbra</span><br></pre></td></tr></table></figure>
<p>11) 在 /etc/prelink.conf文件中删除以下内容 (CentOS, RHEL)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># added for Zimbra</span><br><span class="line">-l /opt/zimbra/lib</span><br><span class="line">-l /opt/zimbra/sleepycat/lib</span><br><span class="line">-l /opt/zimbra/openldap/lib</span><br><span class="line">-l /opt/zimbra/cyrus-sasl/lib</span><br><span class="line">-l /opt/zimbra/mysql/lib</span><br></pre></td></tr></table></figure>
<p>12) 在/etc/rc* 中删除zimbra自启动(CentOS, RHEL)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chkconfig --del zimbra</span><br></pre></td></tr></table></figure>
<p>到此就完成Zimbra卸载了其它的操作系统操作：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Other methods:(assuming you didn&apos;t already try the above)</span><br><span class="line">(dijichi2) if you get stuck and really want to just purge it from the system, try:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rpm -e `rpm -qa |grep zimbra`</span><br><span class="line">rm -rf /opt/zimbra</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">delete zimbra entries from /etc/sudoers</span><br><span class="line">delete zimbra entries from root and zimbra crontabs</span><br></pre></td></tr></table></figure>
<p>Ubuntu系统操作：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">On Ubuntu servers dpkg may think that Zimbra is still installed. Check by running dpkg --list (-l) or dpkg -q zimbra* and see if zimbra items are still listed. You can remove them by running:</span><br><span class="line">dpkg --remove zimbra-apache zimbra-ldap zimbra-mta zimbra-spell zimbra-core zimbra-logger zimbra-snmp zimbra-store or</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo rm -r /opt/zimbra</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">UnInstalling Zimbra on Linux</span><br></pre></td></tr></table></figure>
<p>参考原文地址：<a href="http://wiki.zimbra.com/wiki/UnInstalling_Zimbra_on_Linux" target="_blank" rel="external">http://wiki.zimbra.com/wiki/UnInstalling_Zimbra_on_Linux</a></p>
<p>参考阿文大师兄的zimbra文档:</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://blog.yangcvo.me/2014/11/24/Zimbra/zimbra邮件系统的环境部署/" data-id="ciwt8lftr002nh8vu2eipt1ut" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://blog.yangcvo.me/2014/11/24/Zimbra/zimbra邮件系统的环境部署/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://blog.yangcvo.me/2014/11/24/Zimbra/zimbra邮件系统的环境部署/">Comments</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2014/11/27/Linux笔记/SSH/SSH scp error no hostkey alg/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Newer</strong>
            <div class="article-nav-title">
                
                    SSH scp error no hostkey alg
                
            </div>
        </a>
    
    
        <a href="/2014/11/24/Blog/Ghost/Ghost-blog修改端口/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">Ghost-blog修改端口</div>
        </a>
    
</nav>


    
</article>


    
    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>

</section>
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">recent</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/08/大数据hadoop/ hadoop新增节点集群启动请求异常：Last contact：200/" class="thumbnail">
    
    
        <span style="background-image:url(http://www.51bdtime.com/uploads/allimg/140826/1-140R6103P3405.jpg)" alt="hadoop新增节点集群启动请求异常：Last contact：200" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/大数据/">大数据</a></p>
                            <p class="item-title"><a href="/2016/12/08/大数据hadoop/ hadoop新增节点集群启动请求异常：Last contact：200/" class="title">hadoop新增节点集群启动请求异常：Last contact：200</a></p>
                            <p class="item-date"><time datetime="2016-12-08T09:56:03.000Z" itemprop="datePublished">Dec 8 2016</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/07/Java/Sonarqube和jacoco搭建代码检查/" class="thumbnail">
    
    
        <span style="background-image:url(http://px.thea.cn/Public/Upload/2759083/Intro/1442841940.png)" alt="Sonarqube和jacoco搭建代码检查" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Java/">Java</a></p>
                            <p class="item-title"><a href="/2016/12/07/Java/Sonarqube和jacoco搭建代码检查/" class="title">Sonarqube和jacoco搭建代码检查</a></p>
                            <p class="item-date"><time datetime="2016-12-07T09:56:03.000Z" itemprop="datePublished">Dec 7 2016</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/01/tomcat/tomcat优化遇到jdk1.8出现⚠️警告：warning:ignoring option PermSize=512msupport was removed in 8.0/" class="thumbnail">
    
    
        <span style="background-image:url(http://thumbs.dreamstime.com/t/tomcat-1930481.jpg)" alt="tomcat优化遇到jdk1.8出现⚠️警告：warning:ignoring option PermSize=512msupport was removed in 8.0" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/tomcat/">tomcat</a></p>
                            <p class="item-title"><a href="/2016/12/01/tomcat/tomcat优化遇到jdk1.8出现⚠️警告：warning:ignoring option PermSize=512msupport was removed in 8.0/" class="title">tomcat优化遇到jdk1.8出现⚠️警告：warning:ignoring option PermSize=512msupport was removed in 8.0</a></p>
                            <p class="item-date"><time datetime="2016-12-01T09:44:04.000Z" itemprop="datePublished">Dec 1 2016</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/11/14/日志分析平台/graylog 升级2.1 集中日志解决方案/" class="thumbnail">
    
    
        <span style="background-image:url(https://www.graylog.org/assets/overview_dashboard-3817012f923d4a00e9bde1c0547796319cf0396149464f434cfc2ae83a9da826.png)" alt="graylog 升级2.1 集中日志解决方案" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/日志分析平台/">日志分析平台</a></p>
                            <p class="item-title"><a href="/2016/11/14/日志分析平台/graylog 升级2.1 集中日志解决方案/" class="title">graylog 升级2.1 集中日志解决方案</a></p>
                            <p class="item-date"><time datetime="2016-11-14T09:56:03.000Z" itemprop="datePublished">Nov 14 2016</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/11/13/日志分析平台/Graylog—日志分析平台完美代替Elasticsearch/" class="thumbnail">
    
    
        <span style="background-image:url(https://www.graylog.org/assets/logo-graylog-6ccfb3d4f7bfd0795c80bb616719f7d2f5151283f25c62aa0a6222994af2abeb.png)" alt="Graylog——日志分析平台完美代替Elasticsearch" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/日志分析平台/">日志分析平台</a></p>
                            <p class="item-title"><a href="/2016/11/13/日志分析平台/Graylog—日志分析平台完美代替Elasticsearch/" class="title">Graylog——日志分析平台完美代替Elasticsearch</a></p>
                            <p class="item-date"><time datetime="2016-11-13T09:56:03.000Z" itemprop="datePublished">Nov 13 2016</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/">Blog</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cloud-computing/">Cloud computing</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/">Database</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/">automation</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/monitoring/">monitoring</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tomcat/">tomcat</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/日志分析平台/">日志分析平台</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/测试/">测试</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活/">生活</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/虚拟化/">虚拟化</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/运维安全/">运维安全</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/运维笔记/">运维笔记</a><span class="category-list-count">6</span></li></ul>
        </div>
    </div>

    
        
    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/ACL/" style="font-size: 12.5px;">ACL</a> <a href="/tags/About-me/" style="font-size: 10px;">About me</a> <a href="/tags/CDN/" style="font-size: 10px;">CDN</a> <a href="/tags/Cacti/" style="font-size: 10px;">Cacti</a> <a href="/tags/Centos7-1/" style="font-size: 10px;">Centos7.1</a> <a href="/tags/DNS/" style="font-size: 15px;">DNS</a> <a href="/tags/Exsi/" style="font-size: 10px;">Exsi</a> <a href="/tags/Ghost/" style="font-size: 17.5px;">Ghost</a> <a href="/tags/Grunt/" style="font-size: 10px;">Grunt</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/IDC监控/" style="font-size: 10px;">IDC监控</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Jenkins/" style="font-size: 12.5px;">Jenkins</a> <a href="/tags/KVM/" style="font-size: 17.5px;">KVM</a> <a href="/tags/LAMP/" style="font-size: 12.5px;">LAMP</a> <a href="/tags/LVM/" style="font-size: 10px;">LVM</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/PHP/" style="font-size: 10px;">PHP</a> <a href="/tags/STF/" style="font-size: 10px;">STF</a> <a href="/tags/Smokeping/" style="font-size: 10px;">Smokeping</a> <a href="/tags/Supervisor/" style="font-size: 10px;">Supervisor</a> <a href="/tags/TOTP/" style="font-size: 10px;">TOTP</a> <a href="/tags/Vmware/" style="font-size: 10px;">Vmware</a> <a href="/tags/Vsftpd/" style="font-size: 12.5px;">Vsftpd</a> <a href="/tags/hexo/" style="font-size: 12.5px;">hexo</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/node-js/" style="font-size: 15px;">node.js</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/pm2/" style="font-size: 10px;">pm2</a> <a href="/tags/wkhtmltox/" style="font-size: 10px;">wkhtmltox</a> <a href="/tags/zabbix/" style="font-size: 20px;">zabbix</a> <a href="/tags/zimbra/" style="font-size: 10px;">zimbra</a> <a href="/tags/zookeeper/" style="font-size: 10px;">zookeeper</a> <a href="/tags/旅行日记/" style="font-size: 10px;">旅行日记</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="https://www.unixhot.com/">运维社区</a>
                    </li>
                
                    <li>
                        <a href="http://elasticsearch.cn/topic/">elk技术论坛</a>
                    </li>
                
                    <li>
                        <a href="http://openskill.cn/">开源技术社区</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2016 yangc<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_config = function () {
        
            this.page.url = 'http://blog.yangcvo.me/2014/11/24/Zimbra/zimbra邮件系统的环境部署/';
        
        this.page.identifier = 'Zimbra/zimbra邮件系统的环境部署';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'blog-yangcvo-me' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>



    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>