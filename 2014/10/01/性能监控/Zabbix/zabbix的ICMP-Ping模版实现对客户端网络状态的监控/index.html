<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>zabbixçš„ICMP_Pingæ¨¡ç‰ˆå®ç°å¯¹å®¢æˆ·ç«¯ç½‘ç»œçŠ¶æ€çš„ç›‘æ§ | Yancy&#39;s blog</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="Yancy&#39;s blog" type="application/atom+xml">
    
</head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/" class="header__link">Home</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/archives" class="header__link">ARCHIVES</a>
			
				<a href="/about/About" class="header__link">ABOUT</a>
			
				<a href="http://weibo.com/yangcvo" class="header__link">Weibo</a>
			
				<a href="/atom.xml" class="header__link">RSS</a>
			
		</nav>
		<h1 class="header__title"><a href="/">Yancy&#39;s blog</a></h1>
		<h2 class="header__subtitle">SIMPLICITY IS PREREQUISITE FOR  RELIABILITY</h2>
	</header>

	<main>
		<article>
	
		<h1>zabbixçš„ICMP_Pingæ¨¡ç‰ˆå®ç°å¯¹å®¢æˆ·ç«¯ç½‘ç»œçŠ¶æ€çš„ç›‘æ§</h1>
	
	<div class="article__infos">
		<span class="article__date">2014-10-01</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/monitoring/">monitoring</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/Zabbix-monitoring/">Zabbix monitoring</a>
			</span>
		
	</div>

	

	
		<p>ä¸Šä¸€æ¬¡æ­å»ºäº†é‚®ä»¶å‘Šè­¦å’Œå¾®ä¿¡å‘Šè­¦ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åŠæ—¶æ¥æ”¶åˆ°å‘Šè­¦çš„ã€‚<br>è¿™é‡Œè®²zabbixé‡Œé¢ICMP-pingæ¨¡æ¿çš„å®ç°ç½‘ç»œç›‘æ§ã€‚</p>
<p>Zabbixä½¿ç”¨å¤–éƒ¨å‘½ä»¤fpingå¤„ç†ICMP pingçš„è¯·æ±‚ï¼Œfpingä¸åŒ…å«åœ¨zabbixçš„å‘è¡Œç‰ˆæœ¬ä¸­ï¼Œéœ€è¦é¢å¤–å»ä¸‹è½½å®‰è£…fpingç¨‹åºï¼Œå®‰è£…å®Œæ¯•ä¹‹åéœ€è¦åœ¨<code>zabinx_server.conf</code>ä¸­çš„å‚æ•°<code>FpingLocation</code>é…ç½®fpingå®‰è£…çš„è·¯å¾„ã€‚</p>
<p>ç”±äºfpingé»˜è®¤æ˜¯<code>root</code>æƒé™å·¥ä½œï¼Œè€Œ<code>zabbix-server</code>æ˜¯zabbixç”¨æˆ·è¿è¡Œçš„ï¼Œæ‰€ä»¥éœ€è¦å¯¹fpingç¨‹åºè®¾ç½®<code>setuid</code>æƒé™ï¼Œ<br>å¦‚æœåœ¨è‡ªå®šä¹‰keyçš„æ—¶å€™éœ€è¦ç”¨åˆ°<code>netstat</code>å‘½ä»¤ï¼Œä¹ŸåŒæ ·è¦è®¾ç½®<code>setuid</code>ï¼Œå¦åˆ™ä¸èƒ½è·å–åˆ°æ•°æ®ï¼Œè€Œåœ¨æ—¥å¿—ä¸­æç¤ºæƒæ‹’ç»ã€‚</p>
<h3 id="ä¸€ã€ç™»é™†ZabbixæœåŠ¡å™¨åšä»¥ä¸‹æ“ä½œï¼š"><a href="#ä¸€ã€ç™»é™†ZabbixæœåŠ¡å™¨åšä»¥ä¸‹æ“ä½œï¼š" class="headerlink" title="ä¸€ã€ç™»é™†ZabbixæœåŠ¡å™¨åšä»¥ä¸‹æ“ä½œï¼š"></a>ä¸€ã€ç™»é™†ZabbixæœåŠ¡å™¨åšä»¥ä¸‹æ“ä½œï¼š</h3><p>1.fpingå®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">wget http://www.fping.org/dist/fping-3.10.tar.gz</div><div class="line">tar zxvf fping-3.10.tar.gz</div><div class="line"><span class="built_in">cd</span> fping-3.10</div><div class="line">./configure --prefix=/usr/<span class="built_in">local</span>/fping/</div><div class="line">make &amp;&amp; make install</div></pre></td></tr></table></figure>
<p>2.ä¿®æ”¹zabbix_server.confé…ç½®æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">vim /usr/<span class="built_in">local</span>/zabbix/etc/zabbix_server.conf</div><div class="line"></div><div class="line">æŠŠFpingLocationè·¯å¾„ä¿®æ”¹ä¸ºåˆšå®‰è£…çš„fpingè·¯å¾„ã€‚</div><div class="line"></div><div class="line">FpingLocation=/usr/<span class="built_in">local</span>/fping/sbin/fping</div></pre></td></tr></table></figure>
<p>å¦‚æœä¸ä¿®æ”¹zabbix_server.confé…ç½®ä»¶éœ€è¦ä½¿ç”¨è½¯è¿æ¥åˆ°/usr/local/sbin/fpingï¼Œzabbixé»˜è®¤fpingçš„è·¯å¾„æ˜¯/usr/sbin/fping</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ln <span class="_">-s</span> /usr/sbin/fping /path/to/non-existant/fping</div><div class="line">ln <span class="_">-s</span> /usr/sbin/fping6 /path/to/non-existant/fping6</div></pre></td></tr></table></figure>
<p>3.ä¿®æ”¹fpingæƒé™ï¼ˆå¦‚æœä¸è®¾ä¸‹é¢æƒé™ï¼ŒzabbixæœåŠ¡ç«¯ä¼šé‡‡é›†ä¸åˆ°æ•°æ®ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># chown root:zabbix /usr/local/fping/sbin/fping</span></div><div class="line"><span class="comment"># chmod 4710 /usr/local/fping/sbin/fping</span></div></pre></td></tr></table></figure>
<p>å®‰è£…å®Œfpingï¼Œè®¾ç½®å¥½zabbix-server é…ç½®æ–‡ä»¶ï¼Œéœ€è¦é‡å¯æœåŠ¡ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service zabbix_server restart  <span class="comment">#é‡å¯æœåŠ¡</span></div></pre></td></tr></table></figure>
<p>4.zabbixç”¨æˆ·æµ‹è¯•fpingå‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/usr/<span class="built_in">local</span>/fping/sbin/fping www.baidu.com</div><div class="line">www.baidu.com is alive   <span class="comment"># è¯´æ˜å‘½ä»¤è¿”å›æˆåŠŸã€‚</span></div></pre></td></tr></table></figure>
<h3 id="äºŒã€ç™»é™†Zabbixç›‘æ§ç½‘é¡µåšä»¥ä¸‹è®¾ç½®"><a href="#äºŒã€ç™»é™†Zabbixç›‘æ§ç½‘é¡µåšä»¥ä¸‹è®¾ç½®" class="headerlink" title="äºŒã€ç™»é™†Zabbixç›‘æ§ç½‘é¡µåšä»¥ä¸‹è®¾ç½®"></a>äºŒã€ç™»é™†Zabbixç›‘æ§ç½‘é¡µåšä»¥ä¸‹è®¾ç½®</h3><p>æ‰“å¼€zabbix-configuration-host-creat </p>
<p>1.hostæ·»åŠ éœ€è¦ç›‘æ§çš„ipåœ°å€,è¿™é‡Œå°±ä¸ä»‹ç»äº†ã€‚</p>
<p>2.é€‰æ‹©æ¨¡ç‰ˆtemplate icmp ping</p>
<p><figure class="figure"><img src="http://7xrthw.com1.z0.glb.clouddn.com/zabbix-icmp.png" alt=""></figure></p>
<p>3.æ·»åŠ Graphs</p>
<p><figure class="figure"><img src="http://7xrthw.com1.z0.glb.clouddn.com/zabbix-icmp1.png" alt=""></figure></p>
<p>æ·»åŠ å®Œä»¥åå¯ä»¥æŸ¥çœ‹å¯¹åº”çš„æœºå™¨å›¾å½¢ï¼š</p>
<p><figure class="figure"><img src="http://7xrthw.com1.z0.glb.clouddn.com/zabbix-icmp2.png" alt=""></figure></p>
<p>å››ã€è§¦å‘å™¨æ¨¡ç‰ˆå·²è‡ªå¸¦ï¼Œè®¾ç½®æŠ¥è­¦æ–¹å¼åå°±å¯ä»¥æ¥æ”¶æŠ¥è­¦é‚®ä»¶äº†ã€‚</p>
<p>zabbix-server2.4æœåŠ¡ç«¯ç¼–è¯‘å®‰è£… <a href="http://blog.yangcvo.me/2015/01/18/zabbix-serveræœåŠ¡ç«¯ç¼–è¯‘å®‰è£…/" target="_blank" rel="external">zabbix-serveræœåŠ¡ç«¯ç¼–è¯‘å®‰è£…</a></p>
<p>zabbix2.4ç›‘æ§80ç«¯å£çŠ¶æ€ : <a href="http://blog.yangcvo.me/2016/07/20/zabbixç›‘æ§80ç«¯å£çŠ¶æ€/" target="_blank" rel="external">zabbixç›‘æ§80ç«¯å£çŠ¶æ€</a></p>
<p>zabbix+Grafanaå®‰è£…ä½¿ç”¨ç›‘æ§ç»“åˆ ï¼š<a href="http://blog.yangcvo.me/2016/07/13/zabbix-Grafanaå®‰è£…ä½¿ç”¨ç»“åˆ/" target="_blank" rel="external">zabbix+Grafanaå®‰è£…ä½¿ç”¨ç›‘æ§ç»“åˆ</a></p>
<p>zabbixç›‘æ§MySQL-æ·»åŠ è‡ªå®šä¹‰ç›‘æ§é¡¹ : <a href="http://blog.yangcvo.me/2015/09/29/zabbixç›‘æ§MySQL-æ·»åŠ è‡ªå®šä¹‰ç›‘æ§é¡¹/" target="_blank" rel="external">zabbixç›‘æ§MySQL-æ·»åŠ è‡ªå®šä¹‰ç›‘æ§é¡¹</a></p>
<p>zabbixçš„ICMP_Pingæ¨¡ç‰ˆå®ç°å¯¹å®¢æˆ·ç«¯ç½‘ç»œçŠ¶æ€çš„ç›‘æ§ : <a href="http://blog.yangcvo.me/2015/11/18/zabbixçš„ICMP-Pingæ¨¡ç‰ˆå®ç°å¯¹å®¢æˆ·ç«¯ç½‘ç»œçŠ¶æ€çš„ç›‘æ§/" target="_blank" rel="external">zabbixçš„ICMP_Pingæ¨¡ç‰ˆå®ç°å¯¹å®¢æˆ·ç«¯ç½‘ç»œçŠ¶æ€çš„ç›‘æ§</a></p>
<p>zabbixæ€§èƒ½ç›‘æ§æ•…éšœæ€»ç»“ <a href="http://blog.yangcvo.me/2016/02/07/zabbix-æ•…éšœæ€»ç»“/" target="_blank" rel="external">zabbixæ€§èƒ½ç›‘æ§æ•…éšœæ€»ç»“</a></p>

	

	
		<span class="different-posts"><a href="/2014/10/01/æ€§èƒ½ç›‘æ§/Zabbix/zabbixçš„ICMP-Pingæ¨¡ç‰ˆå®ç°å¯¹å®¢æˆ·ç«¯ç½‘ç»œçŠ¶æ€çš„ç›‘æ§/" onclick="window.history.go(-1); return false;">â¬…ï¸ Go back </a></span>

	

</article>

	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<h5>Hi there,</h5>
	<p style="text-align:justify;">my name is Yancy, they know me as RadiantğŸ‘ğŸ‘. This blog is about Bi-data and my live.<br> I like ğŸŒ³ğŸŒ³ğŸŒ³</p>
</div>


	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>Â© 2017 Yancy | Powered by <a href="http://blog.yancy.cc/">Yancy</a> | Theme <a href="https://github.com/yangcvo">Yancy_GitHub</a></span>
		</div>

	</div>


</footer>



</body>

</html>
