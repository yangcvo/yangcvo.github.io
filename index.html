<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>Yancy&#39;s blog</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="Yancy&#39;s blog" type="application/atom+xml">
    
</head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/" class="header__link">Home</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/archives" class="header__link">ARCHIVES</a>
			
				<a href="/about/About" class="header__link">ABOUT</a>
			
				<a href="http://weibo.com/yangcvo" class="header__link">Weibo</a>
			
				<a href="/atom.xml" class="header__link">RSS</a>
			
		</nav>
		<h1 class="header__title"><a href="/">Yancy&#39;s blog</a></h1>
		<h2 class="header__subtitle">SIMPLICITY IS PREREQUISITE FOR  RELIABILITY</h2>
	</header>

	<main>
		



	<article>
	
		<h1><a href="/2018/03/08/OpenLDAP/OpenLDAP一主多从复制节点服务的配置-phpldapadmin管理认证/">OpenLDAP一主多从复制节点服务的配置-phpldapadmin管理认证</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2018-03-08</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/OpenLDAP/">OpenLDAP</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/OpenLDAP/">OpenLDAP</a>
			</span>
		
	</div>

	

	
		<h4 id="OpenLDAP主从复制节点配置线上版本"><a href="#OpenLDAP主从复制节点配置线上版本" class="headerlink" title="OpenLDAP主从复制节点配置线上版本"></a>OpenLDAP主从复制节点配置线上版本</h4><p>公司服务器上搭建了一个OpenLDAP服务，为了避免出现单点，需要给LDAP做主从要从国外从服务器实时同步。这里我也升级了Openldap 配置一主多从方法。<br>于是上openldap官网上查了一下openldap的复制功能。</p>
<p><img src="https://devopsideas.com/wp-content/uploads/2017/09/Openldap-7-800x445.jpg" alt=""></p>
		<p><a class="article__read-more-link" href="/2018/03/08/OpenLDAP/OpenLDAP一主多从复制节点服务的配置-phpldapadmin管理认证/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2018/02/04/OpenLDAP/OpenLDAP 错误收集/">OpenLDAP 错误收集</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2018-02-04</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/OpenLDAP/">OpenLDAP</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/OpenLDAP/">OpenLDAP</a>
			</span>
		
	</div>

	

	
		<h4 id="OpenLDAP-错误收集"><a href="#OpenLDAP-错误收集" class="headerlink" title="OpenLDAP 错误收集"></a>OpenLDAP 错误收集</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line">启动slapd服务：报错</div><div class="line"></div><div class="line">Checking configuration files <span class="keyword">for</span> slapd:                    [WARNING]</div><div class="line">bdb_db_open: warning – no DB_CONFIG file found <span class="keyword">in</span> directory /var/lib/ldap: (2).</div><div class="line">Expect poor performance <span class="keyword">for</span> suffix “dc=my-domain,dc=com”.</div><div class="line">config file testing succeeded</div><div class="line"></div><div class="line">操作命令：</div><div class="line">rm -rf /var/lib/ldap/*</div><div class="line">cp /usr/share/doc/openldap-servers-2.4.12/DB_CONFIG.example /var/lib/ldap/DB_CONFIG</div><div class="line">chown -R ldap:ldap /var/lib/ldap</div><div class="line">/etc/init.d/ldap restart</div><div class="line"></div><div class="line">2. slaptest <span class="_">-f</span> /etc/openldap/slapd.conf -F /etc/openldap/slapd.d 报错：</div><div class="line"></div><div class="line">[root@yancy ldap]<span class="comment"># slaptest  -f /etc/openldap/slapd.conf -F /etc/openldap/slapd.d</span></div><div class="line">59842dbe bdb_db_open: database <span class="string">"dc=jollychic,dc=com"</span>: db_open(/var/lib/ldap/id2entry.bdb) failed: No such file or directory (2).</div><div class="line">59842dbe backend_startup_one (<span class="built_in">type</span>=bdb, suffix=<span class="string">"dc=jollychic,dc=com"</span>): bi_db_open failed! (2)</div><div class="line">slap_startup failed (<span class="built_in">test</span> would succeed using the -u switch)</div><div class="line"></div><div class="line"></div><div class="line">解决操作命令：</div><div class="line">解决方法： </div><div class="line">cp /usr/share/openldap-servers/DB_CONFIG.example  /var/lib/ldap/DB_CONFIG</div><div class="line">chown -R ldap.ldap /var/lib/ldap</div><div class="line"></div><div class="line">继续检查配置文件</div><div class="line">slaptest <span class="_">-f</span> /etc/openldap/slapd.conf -F /etc/openldap/slapd.d</div><div class="line"></div><div class="line">如果还继续报错：</div><div class="line"></div><div class="line">删掉slapd.d下的文件，重新生成 不然待会启动时会报错</div><div class="line">[root@yancy ldap]<span class="comment"># rm -rf  slapd.d/*</span></div><div class="line">[root@yancy ldap]<span class="comment"># cd /var/lib/ldap/</span></div><div class="line">[root@yancy ldap]<span class="comment"># slapd</span></div><div class="line"></div><div class="line">测试 slapd.conf 设置 </div><div class="line">slaptest -u</div><div class="line">cp <span class="_">-a</span> /etc/openldap/slapd.d/ /etc/openldap/slapd.dbakup0810</div><div class="line">rm -rf /etc/openldap/slapd.d/*</div><div class="line">chown ldap.ldap /var/lib/ldap/*</div><div class="line">chmod -R 600 /var/lib/ldap/*</div><div class="line"><span class="built_in">cd</span> /var/lib/ldap/ &amp;&amp; slapd</div><div class="line">slaptest <span class="_">-f</span> /etc/openldap/slapd.conf -F /etc/openldap/slapd.d</div><div class="line"></div><div class="line"></div><div class="line">如果还不行：</div><div class="line">rm -rf /etc/openldap/slapd.d/*</div><div class="line">rm -rf rm -rf /var/lib/ldap/__db.00*</div><div class="line">rm -rf /var/lib/ldap/alock</div><div class="line">/etc/init.d/slapd restart</div><div class="line"></div><div class="line">chown -R ldap:ldap /etc/openldap/slapd.d</div><div class="line">chown ldap.ldap /var/lib/ldap/*</div><div class="line">service slapd restart</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">3.  导入数据报错： </div><div class="line">[root@H5 ldap]<span class="comment">#  ldapadd -x -D "cn=Manager,dc=jollychic,dc=com" -W -f /tmp/base.ldif</span></div><div class="line">Enter LDAP Password:</div><div class="line">adding new entry <span class="string">"dc=jollychic,dc=com"</span></div><div class="line">ldap_add: Server is unwilling to perform (53)</div><div class="line">additional info: shadow context; no update referral</div></pre></td></tr></table></figure>

	

	

</article>




	<article>
	
		<h1><a href="/2018/02/03/OpenLDAP/ OpenLDAP 企业应用方案 -PPT认识LDAP+熟悉操作LDAP命令/">OpenLDAP企业应用方案-PPT认识LDAP+熟悉操作LDAP命令</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2018-02-03</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/OpenLDAP/">OpenLDAP</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/OpenLDAP/">OpenLDAP</a>
			</span>
		
	</div>

	

	
		<h4 id="认识LDAP熟悉LDAP配置"><a href="#认识LDAP熟悉LDAP配置" class="headerlink" title="认识LDAP熟悉LDAP配置"></a>认识LDAP熟悉LDAP配置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">LDAP目录中可以存储各种类型的数据：电子邮件地址、邮件路由信息、人力资源数据、公用密匙、联系人列表，等等</div><div class="line">但是不是关系型数据库。不象被设计成每分钟需要处理成百上千条数据变化的数据库 </div><div class="line">可以把数据“推”到远程的办公室，以增加数据的安全性</div><div class="line">复制功能，数据库产商就会要你支付额外的费用，而且也很难管理</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">LDAP组织-目录树的结构</div><div class="line"></div><div class="line">LDAP目录中的所有记录项都有一个唯一的“Distinguished Name”</div><div class="line">现在为公司的员工设置一个DN。可以用基于cn或uid（User ID），作为典型的用户帐号</div><div class="line">用uid表示“User ID”，不要把它和UNIX的uid号混淆了 ，大多数公司都会给每一个员工唯一的登录名，因此用这个办法可以很好地保存员工的信息</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">LDIF文件格式例子：一个普通用户都要存哪些信息?</div><div class="line"></div><div class="line">你可以用LDAP存储各种类型的数据对象，只要这些对象可以用属性来表示，下面这些是可以在LDAP中存储的一些信息： </div><div class="line">员工信息：员工的姓名、登录名、口令、员工号、他的经理的登录名，邮件服务器，等等。 </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">lDAP默认端口：端口为389</div><div class="line"></div><div class="line">LDAP同步配置:</div><div class="line"><span class="comment"># Where to store the replica logs for database #1</span></div><div class="line"><span class="comment">#replogfile     /var/lib/ldap/master-slapd.replog</span></div><div class="line"></div><div class="line">replogfile /var/lib/ldap/master-slapd.replog</div><div class="line">replica         host=192.168.7.108:389</div><div class="line">                binddn=<span class="string">"cn=admin,dc=ldap,dc=monkey,dc=com,dc=de"</span></div><div class="line">                bindmethod=simple credentials=<span class="string">'password'</span></div></pre></td></tr></table></figure>
<h5 id="OpenLDAP-包在服务器上安装了很多程序："><a href="#OpenLDAP-包在服务器上安装了很多程序：" class="headerlink" title="OpenLDAP 包在服务器上安装了很多程序："></a>OpenLDAP 包在服务器上安装了很多程序：</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"> 守护进程：</div><div class="line"></div><div class="line"></div><div class="line">- slapd：主 LDAP 服务器</div><div class="line"></div><div class="line">- slurpd：负责与复制 LDAP 服务器保持同步的服务器</div><div class="line"></div><div class="line">- 对网络上的目录进行操作的客户机程序。下面这两个程序是一对儿：</div><div class="line"></div><div class="line">- ldapadd：打开一个到 LDAP 服务器的连接，绑定、修改或增加条目</div><div class="line"></div><div class="line">- ldapsearch：打开一个到 LDAP 服务器的连接，绑定并使用指定的参数进行搜索</div><div class="line"></div><div class="line">- 对本地系统上的数据库进行操作的几个程序：</div><div class="line"></div><div class="line">- slapadd：将以 LDAP 目录交换格式（LDIF）指定的条目添加到 LDAP 数据库中</div><div class="line"></div><div class="line">- slapcat：打开 LDAP 数据库，并将对应的条目输出为 LDIF 格式</div></pre></td></tr></table></figure>
<h5 id="Openldap命令操作总结："><a href="#Openldap命令操作总结：" class="headerlink" title="Openldap命令操作总结："></a>Openldap命令操作总结：</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">解读配置文件：</div><div class="line"></div><div class="line">vim /etc/openldap/slapd.conf</div><div class="line"></div><div class="line"></div><div class="line">例子 </div><div class="line"></div><div class="line">创建用户</div><div class="line"></div><div class="line">ldapadd -x -D <span class="string">"cn=Manager,dc=jollychic,dc=com"</span> -w secret <span class="_">-f</span> /root/test.ldif </div><div class="line">ldapadd -x -D <span class="string">"cn=Manager,dc=jollychic,dc=com"</span> -w secret (这样写就是在命令行添加条目)</div><div class="line"></div><div class="line">-x   进行简单认证</div><div class="line">-D   用来绑定服务器的DN</div><div class="line">-w   绑定DN的密码</div><div class="line">-b   指定要查询的根节点</div><div class="line">-H   制定要查询的服务器</div><div class="line">-S   提示的输入密码</div><div class="line"><span class="_">-s</span> pass 把密码设置为pass</div><div class="line"><span class="_">-a</span> pass 设置old passwd为pass</div><div class="line">-A   提示的设置old passwd</div><div class="line">-I   使用sasl会话方式</div><div class="line"></div><div class="line">这样可以访问整个的活动目录结构.</div><div class="line"></div><div class="line">ldapsearch -x -W -D <span class="string">"cn=Manager,dc=jollychic,dc=com"</span> -b <span class="string">"dc=jollychic,dc=com"</span> </div><div class="line">se12pa</div><div class="line"></div><div class="line">ldapsearch -x -W -D <span class="string">"uid=764,ou=users,dc=jollychic,dc=com"</span> -b <span class="string">"uid=764,ou=users,dc=jollychic,dc=com"</span></div><div class="line">使用简单认证，用 <span class="string">"ou=users,dc=jollychic,dc=com"</span> 进行绑定，要查询的根是 <span class="string">"dc=jollychic,dc=com"</span>。这样会把绑定的用户能访问<span class="string">"uid=764,ou=users,dc=jollychic,dc=com"</span>下的</div><div class="line">所有数据显示出来。</div><div class="line"></div><div class="line"></div><div class="line">ldapdelete -x -D <span class="string">"cn=Manager,dc=jollychic,dc=com"</span> -W <span class="string">"uid=900,ou=users,dc=jollychic,dc=com"</span> -S</div><div class="line">ldapmodify命令,在changetype时输入：delete</div><div class="line"></div><div class="line"></div><div class="line">修改用户密码：</div><div class="line"></div><div class="line">ldappasswd -x -D <span class="string">"cn=Manager,dc=jollychic,dc=com"</span> -W <span class="string">"uid=900,ou=users,dc=jollychic,dc=com"</span> -S</div><div class="line">New password:</div><div class="line">Re-enter new password:</div><div class="line">Enter LDAP Password:</div><div class="line">就可以更改密码了，如果原来记录中没有密码，将会自动生成一个userPassword。</div><div class="line"><span class="comment">##Enter LDAP password" 是 "cn=Manager,dc=jollychic,dc=com"管理员的密码.</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">管理员密码更改</div><div class="line"><span class="comment">#slappasswd</span></div><div class="line">New password</div><div class="line">Re-enter new password</div></pre></td></tr></table></figure>

	

	

</article>




	<article>
	
		<h1><a href="/2018/01/29/OpenLDAP/OpenLDAP服务的配置与管理-phpldapadmin管理认证/">OpenLDAP服务的配置与管理-phpldapadmin管理认证</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2018-01-29</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/OpenLDAP/">OpenLDAP</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/OpenLDAP/">OpenLDAP</a>
			</span>
		
	</div>

	

	
		<h2 id="使用-OpenLDAP-集中管理用户帐号"><a href="#使用-OpenLDAP-集中管理用户帐号" class="headerlink" title="使用 OpenLDAP 集中管理用户帐号"></a>使用 OpenLDAP 集中管理用户帐号</h2><h4 id="1-OpenLDAP-简介"><a href="#1-OpenLDAP-简介" class="headerlink" title="1.OpenLDAP 简介"></a>1.OpenLDAP 简介</h4><p>OpenLDAP可以从 http: //www.openldap.org/ 获得安装包。OpenLDAP 网站主页如图所示。</p>
<p><img src="http://7xrthw.com1.z0.glb.clouddn.com/openldap3.png" alt=""></p>
		<p><a class="article__read-more-link" href="/2018/01/29/OpenLDAP/OpenLDAP服务的配置与管理-phpldapadmin管理认证/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2018/01/26/OpenLDAP/OpenLDAP入门了解学习笔记(一)/">OpenLDAP入门了解学习笔记(一)</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2018-01-26</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/OpenLDAP/">OpenLDAP</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/OpenLDAP/">OpenLDAP</a>
			</span>
		
	</div>

	

	
		<h2 id="OpenLDAP入门了解"><a href="#OpenLDAP入门了解" class="headerlink" title="OpenLDAP入门了解"></a>OpenLDAP入门了解</h2><h3 id="LDAP概述"><a href="#LDAP概述" class="headerlink" title="LDAP概述"></a>LDAP概述</h3><p>我的个人理解：LDAP是轻量目录访问协议(Lightweight Directory Access Protocol)的缩写，LDAP是一个统一的账号管理认证平台，使用轻量级目录访问协议（LDAP）构建集中的身份验证系统可以减少管理成本，增强安全性，避免数据复制的问题，并提高数据的一致性。随着 Linux的不断成熟，已经出现了很多工具用来简化用户帐号信息到 LDAP目录的迁移。还开发了一些工具用来在客户机和目录服务器之间启用加密通信配置，并通过复制提供容错性。本文将向您展示如何配置服务器和客户机在Centos上使用OpenLDAP。</p>
<p><img src="https://devopsideas.com/wp-content/uploads/2017/09/Openldap-7-800x445.jpg" alt=""></p>
		<p><a class="article__read-more-link" href="/2018/01/26/OpenLDAP/OpenLDAP入门了解学习笔记(一)/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2017/12/04/个人生活记录/秋意群山，醉美25KM标毅线，挑战自己😼/">秋意群山，醉美25KM标毅线，挑战自己😼</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-12-04</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/生活/">生活</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/Personal-life-record/">Personal life record</a>
			</span>
		
	</div>

	

	
		<p>🍓  再不动弹，我们就要生锈了,在杭四,五年了，还没有真正旅游过西湖周边的景区，年初参加了户外俱乐部这次是第三次的登山活动，也非常有意义纪念。</p>
<p><img src="http://p0de85ckf.bkt.clouddn.com/hangzhou-tourism03.jpeg" alt=""></p>
		<p><a class="article__read-more-link" href="/2017/12/04/个人生活记录/秋意群山，醉美25KM标毅线，挑战自己😼/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2017/11/04/Bigdata-hadoop/Kafka/KafKa从0.8.2.1升级到0.9.0.1变化方案与步骤/">KafKa从0.8.2.1升级到0.9.0.1变化方案与步骤</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-11-04</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/Bigdata-Hadoop/">Bigdata Hadoop</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/Kafka/">Kafka</a>
			</span>
		
	</div>

	

	
		<p>🍊我这里是采用,群集升级,全部更新停止老版本zk和kafka更新服务。</p>
<p>9.0.0有潜在的中断更改风险（在升级之前需要知道），并且与之前版本的broker之间的协议改变。这意味着此次升级可能和客户端旧版本不兼容。因此在升级客户端之前，先升级kafka集群。如果你使用MirrorMaker下游集群，则同样应首先升级。</p>
<p><img src="https://blogs.apache.org/hbase/mediaresource/0b77f435-da5c-4696-a1b5-f35bc4139b7b" alt=""></p>
		<p><a class="article__read-more-link" href="/2017/11/04/Bigdata-hadoop/Kafka/KafKa从0.8.2.1升级到0.9.0.1变化方案与步骤/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2017/09/21/性能监控/Zabbix/ZABBIX monitoring Flume/">ZABBIX monitoring Flume</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-09-21</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/monitoring/">monitoring</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/Zabbix-monitoring/">Zabbix monitoring</a>
			</span>
		
	</div>

	

	
		<h4 id="ZABBIX-monitoring-Flume"><a href="#ZABBIX-monitoring-Flume" class="headerlink" title="ZABBIX monitoring Flume"></a>ZABBIX monitoring Flume</h4><p>Flume本身提供了http, ganglia的监控服务，而我们目前主要使用zabbix做监控。因此，我们为Flume添加了zabbix监控模块，和sa的监控服务无缝融合。<br>另一方面，净化Flume的metrics。只将我们需要的metrics发送给zabbix，避免 zabbix server造成压力。目前我们最为关心的是Flume能否及时把应用端发送过来的日志写到Hdfs上， 对应关注的metrics为：</p>
<p>Source : 接收的event数和处理的event数<br>Channel : Channel中拥堵的event数<br>Sink : 已经处理的event数</p>
<p><img src="https://cdn.itzgeek.com/wp-content/uploads/2014/07/Zabbix.jpg" alt=""></p>
		<p><a class="article__read-more-link" href="/2017/09/21/性能监控/Zabbix/ZABBIX monitoring Flume/">...read more</a></p>
	

	

</article>





	<span class="different-posts">📖 <a href="/page/2">more posts</a> 📖</span>



	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<h5>Hi there,</h5>
	<p style="text-align:justify;">my name is Yancy, they know me as Radiant🐑🐑. This blog is about Bi-data and my live.<br> I like 🌳🌳🌳</p>
</div>


	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>© 2018 Yancy | Powered by <a href="http://blog.yancy.cc/">Yancy</a> | Theme <a href="https://github.com/yangcvo">Yancy_GitHub</a></span>
		</div>

	</div>


</footer>



</body>

</html>
